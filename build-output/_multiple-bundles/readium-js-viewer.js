define("readium_js_viewer/ModuleConfig",["module"],function(e){var n=e.config();return{imagePathPrefix:n.imagePathPrefix||"",epubLibraryPath:n.epubLibraryPath||"",canHandleUrl:n.canHandleUrl||!1,canHandleDirectory:n.canHandleDirectory||!1,epubReadingSystemUrl:n.epubReadingSystemUrl||"/EPUBREADINGSYSTEM.js",workerUrl:n.workerUrl||"/READIUMWORKER.js",annotationCSSUrl:n.annotationCSSUrl||"/ANNOTATIONS.css",mathJaxUrl:n.mathJaxUrl||"/MATHJAX.js",jsLibRoot:n.jsLibRoot||"/ZIPJS/",useSimpleLoader:n.useSimpleLoader||!1}}),define("StorageManager",[],function(){var e={saveFile:function(e,n,r){r()},deleteFile:function(e,n){n()},getPathUrl:function(e){return"/epub_library.json"==e?"epub_content/epub_library.json":e},initStorage:function(e){e()}};return e}),define("Settings",[],function(){var e=void 0,n=function(){if(e)return!0;if("undefined"==typeof e){if(e=!1,localStorage)try{localStorage.setItem("_isLocalStorageEnabled","?"),localStorage.removeItem("_isLocalStorageEnabled"),e=!0}catch(n){}return e}return!1};return Settings={put:function(e,r,a){if(!n())return void(a&&a());var r=JSON.stringify(r);localStorage[e]=r,a&&a()},get:function(e,r){if(!n())return void(r&&r(null));var a=localStorage[e];r(a?JSON.parse(a):null)},getMultiple:function(e,r){if(!n())return void(r&&r({}));for(var a={},i=0;i<e.length;i++)localStorage[e[i]]&&(a[e[i]]=localStorage[e[i]]);r(a)}},Settings}),define("readium_js_viewer/PackageParser",["jath"],function(e){e.resolver=function(e){var n={def:"http://www.idpf.org/2007/opf",dc:"http://purl.org/dc/elements/1.1/"};return n[e]};var n={metadata:{id:"//def:metadata/dc:identifier",epub_version:"//def:package/@version",title:"//def:metadata/dc:title",author:"//def:metadata/dc:creator",publisher:"//def:metadata/dc:publisher",description:"//def:metadata/dc:description",rights:"//def:metadata/dc:rights",language:"//def:metadata/dc:language",pubdate:"//def:metadata/dc:date",modified_date:"//def:metadata/def:meta[@property='dcterms:modified']",layout:"//def:metadata/def:meta[@property='rendition:layout']",spread:"//def:metadata/def:meta[@property='rendition:spread']",orientation:"//def:metadata/def:meta[@property='rendition:orientation']",ncx:"//def:spine/@toc",page_prog_dir:"//def:spine/@page-progression-direction",active_class:"//def:metadata/def:meta[@property='media:active-class']"},manifest:["//def:item",{id:"@id",href:"@href",media_type:"@media-type",properties:"@properties",media_overlay:"@media-overlay"}],spine:["//def:itemref",{idref:"@idref",properties:"@properties",linear:"@linear"}],bindings:["//def:bindings/def:mediaType",{handler:"@handler",media_type:"@media-type"}]};return PackageParser={parsePackageDom:function(r){var a=e.parse(n,r);return a=a.metadata,a.coverHref=PackageParser.getCoverHref(r),a},getCoverHref:function(e){var n,r;if(n=e.getElementsByTagName("manifest")[0],r=$('item[properties~="cover-image"]',n),1===r.length&&r.attr("href"))return r.attr("href");var a=$('meta[name="cover"]',e),i=a.attr("content");return a.length>=1&&i&&(r=$('item[id="'+i+'"]',n),1===r.length&&r.attr("href"))?r.attr("href"):(r=$("#cover",n),1===r.length&&r.attr("href")?r.attr("href"):null)}},PackageParser}),define("readium_js_viewer/workers/Messages",[],function(){return{IMPORT_ZIP:0,OVERWRITE_CONTINUE:1,FIND_PACKAGE_RESPONSE:2,PARSE_PACKAGE_RESPONSE:3,DELETE_EPUB:4,IMPORT_DIR:5,IMPORT_URL:6,MIGRATE:7,OVERWRITE_SIDE_BY_SIDE:8,CONTINUE_IMPORT_ZIP:9,SUCCESS:100,PROGRESS:101,ERROR:102,OVERWRITE:103,FIND_PACKAGE:104,PARSE_PACKAGE:105,PROGRESS_EXTRACTING:200,PROGRESS_WRITING:201,PROGRESS_DELETING:202,PROGRESS_MIGRATING:203,ERROR_STORAGE:300,ERROR_EPUB:301,ERROR_AJAX:302}}),define("readium_js_viewer/workers/WorkerProxy",["../ModuleConfig","./Messages","jquery","../PackageParser","readium_js/epub-fetch/encryption_handler"],function(e,n,r,a,i){var t,s=function(){t.terminate(),t=null},o=function(d,l){t&&console.log("dangling worker");var b=e.workerUrl;t=new Worker(b);var u=function(){t.postMessage({msg:n.OVERWRITE_CONTINUE})},c=function(){t.postMessage({msg:n.OVERWRITE_SIDE_BY_SIDE})},g=function(){s()},m=l.error||r.noop,_=function(e){s(),m(e)};t.onmessage=function(e){var d=e.data;switch(d.msg){case n.SUCCESS:l.success&&l.success(d.libraryItems),s();break;case n.CONTINUE_IMPORT_ZIP:s(),o({msg:n.CONTINUE_IMPORT_ZIP,buf:d.buf,index:d.index,rootDirName:d.rootDirName,libraryItems:d.libraryItems},l);break;case n.PROGRESS:l.progress&&l.progress(d.percent,d.progressType,d.progressData);break;case n.OVERWRITE:l.overwrite&&l.overwrite(d.item,u,c,g);break;case n.FIND_PACKAGE:var b=(new DOMParser).parseFromString(d.containerStr,"text/xml"),m=r("rootfile",b);m.length?t.postMessage({msg:n.FIND_PACKAGE_RESPONSE,path:m.attr("full-path")}):(_(n.ERROR_EPUB),console.error("Epub container.xml missing rootfile element"));break;case n.PARSE_PACKAGE:var p,v=(new DOMParser).parseFromString(d.packageStr,"text/xml"),h=a.parsePackageDom(v);if(d.encryptionStr){var y=(new DOMParser).parseFromString(d.encryptionStr,"text/xml");p=i.CreateEncryptionData(h.id,y)}t.postMessage({msg:n.PARSE_PACKAGE_RESPONSE,packageObj:h,encryptionData:p});break;default:_(d.errorMsg||"Unknown error"),s()}},t.onerror=function(){console.error(arguments)},currentWorker=t,t.postMessage(d)};return{importZip:function(e,r,a){o({msg:n.IMPORT_ZIP,buf:e,libraryItems:r},a)},importDirectory:function(e,r,a){o({msg:n.IMPORT_DIR,files:e,libraryItems:r},a)},importUrl:function(e,r,a){o({msg:n.IMPORT_URL,url:e,libraryItems:r},a)},deleteEpub:function(e,r,a){o({msg:n.DELETE_EPUB,id:e,libraryItems:r},a)},migrateOldBooks:function(e){o({msg:n.MIGRATE},e)}}}),define("text!readium_js_viewer_i18n/_locales/de/messages.json",[],function(){return'{ "about": {\r\n    "message": "Über Readium"\r\n    },\r\n    "preview": {\r\n        "message": "Vorschau"\r\n    },\r\n    "list_view": {\r\n        "message": "Listenansicht"\r\n    },\r\n    "thumbnail_view": {\r\n        "message": "Kachelansicht"\r\n    },\r\n    "view_library": {\r\n        "message": "Bibliothek"\r\n    },\r\n    "highlight_selection": {\r\n        "message": "Ausgewählten Text hervorheben"\r\n    },\r\n    "toc": {\r\n        "message": "Inhaltsverzeichnis"\r\n    },\r\n    "settings": {\r\n        "message": "Einstellungen"\r\n    },\r\n    "enter_fullscreen": {\r\n        "message": "Vollbildmodus"\r\n    },\r\n    "exit_fullscreen": {\r\n        "message": "Vollbildmodus verlassen"\r\n    },\r\n    "chrome_extension_name": {\r\n        "message": "Readium"\r\n    },\r\n    "chrome_extension_description": {\r\n        "message": "Ein Leseprogramm für EPUB3 Bücher."\r\n    },\r\n    "ok" : {\r\n        "message" : "Ok"\r\n    },\r\n    "i18n_readium_library": {\r\n        "message": "Readium Bibliothek"\r\n    },\r\n    "i18n_loading": {\r\n        "message": "Bibliothek wird geladen"\r\n    },\r\n    "i18n_readium_options": {\r\n        "message": "Readium Einstellungen:"\r\n    },\r\n    "i18n_save_changes": {\r\n        "message": "Änderungen speichern"\r\n    },\r\n    "i18n_close": {\r\n        "message": "Schließen"\r\n    },\r\n    "i18n_keyboard_shortcuts": {\r\n        "message": "Funktionstasten"\r\n    },\r\n    "i18n_keyboard_reload": {\r\n        "message": "Bitte laden Sie die Seite im Browser neu, damit die Änderungen der Tastaturkürzel wirksam werden."\r\n    },\r\n    "i18n_reset_key": {\r\n        "message": "Taste zurücksetzen"\r\n    },\r\n    "i18n_reset_key_all": {\r\n        "message": "Alle Funktionstasten auf Standard zurücksetzen"\r\n    },\r\n    "i18n_duplicate_keyboard_shortcut": {\r\n        "message": "Doppelbelegung"\r\n    },\r\n    "i18n_invalid_keyboard_shortcut": {\r\n        "message": "Nicht zulässig"\r\n    },\r\n    "i18n_paginate_all": {\r\n        "message": "Fließtext des EPUB Inhalts paginieren"\r\n    },\r\n    "i18n_automatically": {\r\n        "message": "*.epub URLs automatisch in Readium öffnen"\r\n    },\r\n    "i18n_show_warning": {\r\n        "message": "Warnhinweise beim Entpacken von EPUB Dateien anzeigen"\r\n    },\r\n    "i18n_details": {\r\n        "message": "Details"\r\n    },\r\n    "i18n_read": {\r\n        "message": "Lesen"\r\n    },\r\n    "i18n_delete": {\r\n        "message": "Löschen"\r\n    },\r\n    "i18n_are_you_sure": {\r\n        "message": "Möchten Sie diese Datei wirklich unwiderruflich löschen?"\r\n    },\r\n    "delete_dlg_title": {\r\n        "message": "Löschen bestätigen"\r\n    },\r\n\r\n    "i18n_auto_page_turn_enable": {\r\n        "message": "Automatisches Umblättern einschalten"\r\n    },\r\n    "i18n_auto_page_turn_disable": {\r\n        "message": "Automatisches Umblättern ausschalten"\r\n    },\r\n\r\n    "i18n_playback_scroll_enable": {\r\n        "message": "Scrollen während der Wiedergabe"\r\n    },\r\n    "i18n_playback_scroll_disable": {\r\n        "message": "Kein Scrollen während der Wiedergabe"\r\n    },\r\n    "i18n_audio_touch_enable": {\r\n        "message": "Touch-to-play einschalten"\r\n    },\r\n    "i18n_audio_touch_disable": {\r\n        "message": "Touch-to-play ausschalten"\r\n    },\r\n    "i18n_audio_highlight_default": {\r\n        "message": "Standard"\r\n    },\r\n    "i18n_audio_highlight": {\r\n        "message": "Hervorhebungsfarbe"\r\n    },\r\n\r\n    "delete_progress_title": {\r\n        "message": "Löschen wird ausgeführt"\r\n    },\r\n    "delete_progress_message": {\r\n        "message": "Löschen"\r\n    },\r\n    "migrate_dlg_title": {\r\n        "message": "Bücher migrieren"\r\n    },\r\n    "migrate_dlg_message": {\r\n        "message": "Daten werden geladen..."\r\n    },\r\n    "migrating": {\r\n        "message": "Migrieren..."\r\n    },\r\n    "replace_dlg_title": {\r\n        "message": "Konflikt festgestellt"\r\n    },\r\n    "replace_dlg_message": {\r\n        "message": "Soll das bestehende EPUB wirklich ersetzt werden?"\r\n    },\r\n    "import_dlg_title": {\r\n        "message": "EPUB importieren"\r\n    },\r\n    "import_dlg_message": {\r\n        "message": "EPUB Inhalt überprüfen..."\r\n    },\r\n    "storing_file": {\r\n        "message": "Datei speichern"\r\n    },\r\n    "err_unknown": {\r\n        "message": "Unbekannter Fehler. Für Details öffnen Sie die Konsole."\r\n    },\r\n    "err_storage": {\r\n        "message": "Zugriff auf Dateispeicher nicht möglich."\r\n    },\r\n    "err_epub_corrupt": {\r\n        "message": "Ungültiges oder beschädigtes EPUB Paket"\r\n    },\r\n    "err_dlg_title": {\r\n        "message": "Unerwarteter Fehler"\r\n    },\r\n    "replace" : {\r\n        "message": "Ersetzen"\r\n    },\r\n    "i18n_author": {\r\n        "message": "Autor: "\r\n    },\r\n    "i18n_publisher": {\r\n        "message": "Verlag: "\r\n    },\r\n    "i18n_source": {\r\n        "message": "Quelle: "\r\n    },\r\n    "i18n_pub_date": {\r\n        "message": "Veröffentlicht am: "\r\n    },\r\n    "i18n_modified_date": {\r\n        "message": "Zuletzt geändert am: "\r\n    },\r\n    "i18n_id": {\r\n        "message": "ID: "\r\n    },\r\n    "i18n_epub_version": {\r\n        "message": "EPUB Version: "\r\n    },\r\n    "i18n_created_at": {\r\n        "message": "Erstellt am: "\r\n    },\r\n    "i18n_format": {\r\n        "message": "Format: "\r\n    },\r\n    "i18n_added": {\r\n        "message": "Hinzugefügt am: "\r\n    },\r\n    "i18n_unknown": {\r\n        "message": "Unbekannt"\r\n    },\r\n    "i18n_sorry": {\r\n        "message": "Das aktuelle EPUB enthält für diesen Inhalt keine Media Overlays."\r\n    },\r\n    "i18n_add_items": {\r\n        "message": "Füge Werke zur Bibliothek hinzu."\r\n    },\r\n    "i18n_extracting": {\r\n        "message": "Entpacke: "\r\n    },\r\n    "i18n_add_book_to_readium_library": {\r\n        "message": "Buch zur Readium Bibliothek hinzufügen:"\r\n    },\r\n    "i18n_add_book": {\r\n        "message": "Buch hinzufügen"\r\n    },\r\n    "i18n_cancel": {\r\n        "message": "Abbrechen"\r\n    },\r\n    "i18n_from_the_web": {\r\n        "message": "Internet:"\r\n    },\r\n    "i18n_from_local_file": {\r\n        "message": "Lokale Datei:"\r\n    },\r\n    "i18n_enter_a_url": {\r\n        "message": "URL einer .epub Datei eingeben"\r\n    },\r\n    "i18n_unpacked_directory": {\r\n        "message": "Entpacktes Verzeichnis:"\r\n    },\r\n    "i18n_validate": {\r\n        "message": "Prüfe:"\r\n    },\r\n    "i18n_confirm_that_this_book": {\r\n        "message": "Bestätigung, dass dieses Buch mit EPUB Standards übereinstimmt"\r\n    },\r\n    "i18n_single_pages": {\r\n        "message": "Einzelseiten"\r\n    },\r\n    "i18n_double_pages": {\r\n        "message": "Doppelseiten"\r\n    },\r\n    "i18n_save_settings": {\r\n        "message": "Einstellungen speichern"\r\n    },\r\n    "i18n_font_size": {\r\n        "message": "Schriftgröße"\r\n    },\r\n    "i18n_margins": {\r\n        "message": "Rand"\r\n    },\r\n    "i18n_text_and_background_color": {\r\n        "message": "Text- und Hintergrundfarbe"\r\n    },\r\n    "i18n_author_theme": {\r\n        "message": "Vorgabe des Autors"\r\n    },\r\n    "i18n_black_and_white": {\r\n        "message": "Schwarzweiss"\r\n    },\r\n    "i18n_arabian_nights": {\r\n        "message": "Arabian Nights"\r\n    },\r\n    "i18n_sands_of_dune": {\r\n        "message": "Sands of Dune"\r\n    },\r\n    "i18n_ballard_blues": {\r\n        "message": "Ballard Blues"\r\n    },\r\n    "i18n_vancouver_mist": {\r\n        "message": "Vancouver Mist"\r\n    },\r\n    "i18n_display_format": {\r\n        "message": "Anzeigeformat"\r\n    },\r\n    "i18n_spread_auto": {\r\n        "message": "Automatisch"\r\n    },\r\n    "i18n_scroll_mode": {\r\n        "message": "Scroll Modus"\r\n    },\r\n    "i18n_scroll_mode_auto": {\r\n        "message": "Automatisch"\r\n    },\r\n    "i18n_scroll_mode_doc": {\r\n        "message": "Dokument"\r\n    },\r\n    "i18n_scroll_mode_continuous": {\r\n        "message": "Kontinuierlich"\r\n    },\r\n\r\n    "i18n_page_transition": {\r\n        "message": "Umblätter-Effekt"\r\n    },\r\n    "i18n_page_transition_none": {\r\n        "message": "Keiner"\r\n    },\r\n    "i18n_page_transition_fade": {\r\n        "message": "Fade"\r\n    },\r\n    "i18n_page_transition_slide": {\r\n        "message": "Slide"\r\n    },\r\n    "i18n_page_transition_swoosh": {\r\n        "message": "Swoosh"\r\n    },\r\n    "i18n_page_transition_butterfly": {\r\n        "message": "Butterfly"\r\n    },\r\n    "i18n_html_readium_tm_a_project": {\r\n        "message": "Readium für Chrome ist die Chrome Browser Erweiterung basierend auf ReadiumJS, einem Open-Source Lesesystem und einer JavaScript Bibliothek zur Darstellung von EPUB® Veröffentlichungen in Web-Browsern. ReadiumJS ist ein Projekt der Readium Foundation (Readium.org). Wenn Sie mehr darüber erfahren möchten oder das Projekt unterstützen wollen, besuchen Sie bitte die <a href=\\"http://readium.org/\\">Projekt Homepage</a>."\r\n\r\n    },\r\n    "gethelp": {\r\n        "message": "Falls Sie auf Probleme stoßen, Fragen haben oder \\"Hallo\\" sagen möchten, besuchen Sie <a href=\\"http://idpf.org/forums/readium\\">unser Forum</a>."\r\n    },\r\n    "i18n_toolbar": {\r\n        "message": "Werkzeugleiste"\r\n    },\r\n    "i18n_toolbar_show": {\r\n        "message": "Werkzeugleiste anzeigen"\r\n    },\r\n    "i18n_toolbar_hide": {\r\n        "message": "Werkzeugleiste ausblenden"\r\n    },\r\n    "i18n_audio_play": {\r\n        "message": "Audio - Abspielen"\r\n    },\r\n    "i18n_audio_pause": {\r\n        "message": "Audio - Pause"\r\n    },\r\n    "i18n_audio_play_background": {\r\n        "message": "Hintergrundaudio ein"\r\n    },\r\n    "i18n_audio_pause_background": {\r\n        "message": "Hintergrundaudio aus"\r\n    },\r\n    "i18n_audio_previous": {\r\n        "message": "Vorige Audiophrase"\r\n    },\r\n    "i18n_audio_next": {\r\n        "message": "Nächste Audiophrase"\r\n    },\r\n    "i18n_audio_volume": {\r\n        "message": "Lautstärke"\r\n    },\r\n    "i18n_audio_volume_increase": {\r\n        "message": "Lautstärke erhöhen"\r\n    },\r\n    "i18n_audio_volume_decrease": {\r\n        "message": "Lautstärke verringern"\r\n    },\r\n    "i18n_audio_time": {\r\n        "message": "Audio - Zeitmarke"\r\n    },\r\n    "i18n_audio_mute": {\r\n        "message": "Audio ausschalten"\r\n    },\r\n    "i18n_audio_unmute": {\r\n        "message": "Audio einschalten"\r\n    },\r\n    "i18n_audio_expand": {\r\n        "message": "Erweiterte Audio-Steuerung anzeigen"\r\n    },\r\n    "i18n_audio_collapse": {\r\n        "message": "Erweiterte Audio-Steuerung ausblenden"\r\n    },\r\n    "i18n_audio_esc": {\r\n        "message": "Aktuellen Audio-Bereich verlassen"\r\n    },\r\n    "i18n_audio_rate": {\r\n        "message": "Audio - Wiedergabegeschwindigkeit"\r\n    },\r\n    "i18n_audio_rate_increase": {\r\n        "message": "Audio - Wiedergabegeschwindigkeit erhöhen"\r\n    },\r\n    "i18n_audio_rate_decrease": {\r\n        "message": "Audio - Wiedergabegeschwindigkeit verringern"\r\n    },\r\n    "i18n_audio_rate_reset": {\r\n        "message": "Audio - Wiedergabegeschwindigkeit zurücksetzen"\r\n    },\r\n    "i18n_audio_skip_disable": {\r\n        "message": "Audio - Überspringen unterbinden "\r\n    },\r\n    "i18n_audio_skip_enable": {\r\n        "message": "Audio - Überspringen ermöglichen"\r\n    },\r\n    "i18n_audio_sync": {\r\n        "message": "Text-Audio-Synchronisation"\r\n    },\r\n    "i18n_audio_sync_default": {\r\n        "message": "Nach Vorgabe"\r\n    },\r\n    "i18n_audio_sync_word": {\r\n        "message": "Wort"\r\n    },\r\n    "i18n_audio_sync_sentence": {\r\n        "message": "Satz"\r\n    },\r\n    "i18n_audio_sync_paragraph": {\r\n        "message": "Absatz"\r\n    },\r\n    "i18n_page_previous": {\r\n        "message": "Vorige Seite"\r\n    },\r\n    "i18n_page_next": {\r\n        "message": "Nächste Seite"\r\n    },\r\n    "chrome_accept_languages": {\r\n        "message": "$CHROME$ akzeptiert $languages$ Sprachen",\r\n        "placeholders": {\r\n            "chrome": {\r\n                "content": "Chrome",\r\n                "example": "Chrome"\r\n            },\r\n            "languages": {\r\n                "content": "$1",\r\n                "example": "en-US,ja,sr,de,zh_CN"\r\n            }\r\n        }\r\n    }\r\n}'}),define("text!readium_js_viewer_i18n/_locales/es/messages.json",[],function(){return'{\r\n\r\n    "chrome_extension_name": {\r\n        "message": "Readium"\r\n    },\r\n    "about" : {\r\n        "message" : "Acerca de"\r\n    },\r\n    "preview" : {\r\n        "message" : "Vista previa"\r\n    },\r\n    "list_view" : {\r\n        "message" : "Vista en lista"\r\n    },\r\n    "thumbnail_view" : {\r\n        "message" : "Vista en miniaturas"\r\n    },\r\n    "view_library": {\r\n        "message" : "Biblioteca"\r\n    },\r\n    "highlight_selection" : {\r\n        "message" : "Subrayar texto seleccionado"\r\n    },\r\n    "toc" : {\r\n        "message" : "Tabla de contenidos"\r\n    },\r\n    "settings" : {\r\n        "message" : "Preferencias"\r\n    },\r\n    "enter_fullscreen" : {\r\n        "message" : "Abrir modo de pantalla completa"\r\n    },\r\n    "exit_fullscreen" : {\r\n        "message" : "Cerrar modo de pantalla completa"\r\n    },\r\n    "chrome_extension_description": {\r\n        "message": "Lector de libros EPUB3."\r\n    },\r\n    "ok" : {\r\n        "message" : "Ok"\r\n    },\r\n    "delete_dlg_title" : {\r\n        "message" : "Confirmar eliminación"\r\n    },\r\n    "delete_progress_title" : {\r\n        "message" : "Eliminación en progreso"\r\n    },\r\n    "delete_progress_message" : {\r\n        "message" : "Eliminando"\r\n    },\r\n    "migrate_dlg_title" : {\r\n        "message" : "Migrando libros"\r\n    },\r\n    "migrate_dlg_message" : {\r\n        "message" : "Cargando datos..."\r\n    },\r\n    "migrating" : {\r\n        "message" : "Migrando"\r\n    },\r\n    "replace_dlg_title" : {\r\n        "message": "Se ha detectado un conflicto"\r\n    },\r\n    "replace_dlg_message": {\r\n        "message": "Si decide continuar, el siguiente epub será reemplazado por el que está siendo importado"\r\n    },\r\n    "import_dlg_title" : {\r\n        "message": "Importando EPUB"\r\n    },\r\n    "import_dlg_message" : {\r\n        "message": "Examinando contenido del EPUB..."\r\n    },\r\n    "storing_file" : {\r\n        "message": "Guardando archivo"\r\n    },\r\n    "err_unknown" : {\r\n        "message": "Error desconocido. Chequear la consola para conocer más detalles."\r\n    },\r\n    "err_storage" : {\r\n        "message": "No es posible acceder al dispositvo"\r\n    },\r\n    "err_epub_corrupt" : {\r\n        "message": "Paquete EPUB inválido o corrupto"\r\n    },\r\n    "err_dlg_title" : {\r\n        "message": "Error inesperado"\r\n    },\r\n    "replace" : {\r\n        "message": "Reemplazar"\r\n    },\r\n    "gethelp" : {\r\n        "message" : "Si encuentra algún problema, tiene preguntas, o le gustaría decir hola, visite <a href=\\"http://idpf.org/forums/readium\\">nuestro foro</a>"\r\n    },\r\n    "i18n_readium_library" : {\r\n        "message" : "Biblioteca Readium"\r\n    },\r\n    "i18n_loading" : {\r\n        "message" : "Cargando biblioteca"\r\n    },\r\n    "i18n_readium_options" : {\r\n        "message" : "Readium Opciones:"\r\n    },\r\n    "i18n_save_changes" : {\r\n        "message" : "Guardar cambios"\r\n    },\r\n    "i18n_close" : {\r\n        "message" : "Cerrar"\r\n    },\r\n    "i18n_keyboard_shortcuts" : {\r\n        "message" : "Teclas de acceso rápido"\r\n    },\r\n    "i18n_keyboard_reload" : {\r\n        "message" : "Por favor, actualiza la página para que las teclas de acceso rápido tengan efecto."\r\n    },\r\n    "i18n_reset_key" : {\r\n        "message" : "Reestablecer tecla"\r\n    },\r\n    "i18n_reset_key_all" : {\r\n        "message" : "Reestablecer todos las teclas de acceso rápido"\r\n    },\r\n    "i18n_duplicate_keyboard_shortcut" : {\r\n        "message" : "DUPLICADO"\r\n    },\r\n    "i18n_invalid_keyboard_shortcut" : {\r\n        "message" : "INVALIDO"\r\n    },\r\n    "i18n_paginate_all" : {\r\n        "message" : "Paginar todo el contenido ePUB repaginable"\r\n    },\r\n    "i18n_automatically" : {\r\n        "message" : "Abrir automáticamente urls *.epub en readium"\r\n    },\r\n    "i18n_show_warning" : {\r\n        "message" : "Mostrar advertencias al desempaquetar archivos EPUB"\r\n    },\r\n    "i18n_details" : {\r\n        "message" : "Detalles"\r\n    },\r\n    "i18n_read" : {\r\n        "message" : "Leer"\r\n    },\r\n    "i18n_delete" : {\r\n        "message" : "Eliminar"\r\n    },\r\n    "i18n_author" : {\r\n        "message" : "Autor: "\r\n    },\r\n    "i18n_publisher" : {\r\n        "message" : "Editor: "\r\n    },\r\n    "i18n_source" : {\r\n        "message" : "Fuente: "\r\n    },\r\n    "i18n_pub_date" : {\r\n        "message" : "Fecha de publicación: "\r\n    },\r\n    "i18n_modified_date" : {\r\n        "message" : "Fecha de modificación: "\r\n    },\r\n    "i18n_id" : {\r\n        "message" : "ID: "\r\n    },\r\n    "i18n_epub_version" : {\r\n        "message" : "Versión EPUB: "\r\n    },\r\n    "i18n_created_at" : {\r\n        "message" : "Creado en: "\r\n    },\r\n    "i18n_format" : {\r\n        "message" : "Formato: "\r\n    },\r\n    "i18n_added" : {\r\n        "message" : "Añadido: "\r\n    },\r\n    "i18n_unknown" : {\r\n        "message" : "Desconocido"\r\n    },\r\n    "i18n_sorry" : {\r\n        "message" : "Disculpa, el EPUB actual no contiene superposición multimedia para este contenido"\r\n    },\r\n    "i18n_add_items" : {\r\n        "message" : "¡Añade aquí elementos a tu biblioteca!"\r\n    },\r\n    "i18n_extracting" : {\r\n        "message" : "extrayendo: "\r\n    },\r\n    "i18n_are_you_sure" : {\r\n        "message" : "¿Está seguro que desea eliminar de forma permanente"\r\n    },\r\n    "i18n_add_book_to_readium_library" : {\r\n        "message" : "Añadir libro a biblioteca Readium:"\r\n    },\r\n    "i18n_add_book" : {\r\n        "message" : "Añadir a la biblioteca"\r\n    },\r\n    "i18n_cancel" : {\r\n        "message" : "Cancelar"\r\n    },\r\n    "i18n_from_the_web" : {\r\n        "message" : "Desde la web:"\r\n    },\r\n    "i18n_from_local_file" : {\r\n        "message" : "Desde un archivo local:"\r\n    },\r\n    "i18n_enter_a_url" : {\r\n        "message" : "Ingresa una URL a un archivo .epub"\r\n    },\r\n    "i18n_unpacked_directory" : {\r\n        "message" : "Carpeta descomprimida:"\r\n    },\r\n    "i18n_validate" : {\r\n        "message" : "Validar:"\r\n    },\r\n    "i18n_confirm_that_this_book" : {\r\n        "message" : "Confirmar que este libro cumple con los estándares ePUB"\r\n    },\r\n    "i18n_single_pages" : {\r\n        "message" : "Páginas simple"\r\n    },\r\n    "i18n_double_pages" : {\r\n        "message" : "Páginas doble"\r\n    },\r\n    "i18n_save_settings" : {\r\n        "message" : "Guardar preferencias"\r\n    },\r\n    "i18n_font_size" : {\r\n        "message" : "TAMAÑO DE FUENTE"\r\n    },\r\n    "i18n_margins" : {\r\n        "message" : "MARGENES"\r\n    },\r\n    "i18n_text_and_background_color" : {\r\n        "message" : "COLOR DE FUENTE Y FONDO"\r\n    },\r\n    "i18n_black_and_white" : {\r\n        "message" : "Blanco y negro"\r\n    },\r\n    "i18n_arabian_nights" : {\r\n        "message" : "Las mil y una noches"\r\n    },\r\n    "i18n_sands_of_dune" : {\r\n        "message" : "Arenas de duna"\r\n    },\r\n    "i18n_ballard_blues" : {\r\n        "message" : "Ballard Blues"\r\n    },\r\n    "i18n_vancouver_mist" : {\r\n        "message" : "Bruma de Vancouver"\r\n    },\r\n    "i18n_display_format" : {\r\n        "message" : "MOSTRAR FORMATO"\r\n    },\r\n    "i18n_scroll_mode" : {\r\n        "message" : "MODO DE DESPLAZAMIENTO"\r\n    },\r\n    "i18n_scroll_mode_default" : {\r\n        "message" : "Por defecto"\r\n    },\r\n    "i18n_scroll_mode_doc" : {\r\n        "message" : "Documento"\r\n    },\r\n    "i18n_scroll_mode_continuous" : {\r\n        "message" : "Continuo"\r\n    },\r\n    "i18n_html_readium_tm_a_project" : {\r\n        "message" : "Readium para Chrome es la extensión para Chrome de ReadiumJS, un sistema de lectura de código abierto y librería JavaScript para renderizar publicaciones EPUB® en navegadores web. ReadiumJS es un proyecto de Readium Foundation (Readium.org). Para saber más o contribuir, visita el <a href=\\"http://readium.org/projects/readiumjs\\">sitio del proyecto</a>"\r\n    },\r\n    "i18n_toolbar_show" : {\r\n        "message" : "Mostrar barra de herramientas"\r\n    },\r\n    "i18n_toolbar_hide" : {\r\n        "message" : "Ocultar barra de herramientas"\r\n    },\r\n    "i18n_audio_play" : {\r\n        "message" : "Reproducir"\r\n    },\r\n    "i18n_audio_pause" : {\r\n        "message" : "Pausa"\r\n    },\r\n    "i18n_audio_previous" : {\r\n        "message" : "Frase de audio anterior"\r\n    },\r\n    "i18n_audio_next" : {\r\n        "message" : "Frase de audio siguiente"\r\n    },\r\n    "i18n_audio_volume" : {\r\n        "message" : "Volumen de audio"\r\n    },\r\n    "i18n_audio_volume_increase" : {\r\n        "message" : "Incrementar volumen de audio"\r\n    },\r\n    "i18n_audio_volume_decrease" : {\r\n        "message" : "Reducir volumen de audio"\r\n    },\r\n    "i18n_audio_time" : {\r\n        "message" : "Cursor de tiempo de audio"\r\n    },\r\n    "i18n_audio_mute" : {\r\n        "message" : "Desactivar audio"\r\n    },\r\n    "i18n_audio_unmute" : {\r\n        "message" : "Activar audio"\r\n    },\r\n    "i18n_audio_expand" : {\r\n        "message" : "Mostrar controles avanzados de audio"\r\n    },\r\n    "i18n_audio_collapse" : {\r\n        "message" : "Cerrar controles avanzados de audio"\r\n    },\r\n    "i18n_audio_esc" : {\r\n        "message" : "Salir de contexto actual de audio"\r\n    },\r\n    "i18n_audio_rate" : {\r\n        "message" : "Velocidad de reproducción de audio"\r\n    },\r\n    "i18n_audio_rate_increase" : {\r\n        "message" : "Incrementar velocidad de reproducción de audio"\r\n    },\r\n    "i18n_audio_rate_decrease" : {\r\n        "message" : "Reducir velocidad de reproducción de audio"\r\n    },\r\n    "i18n_audio_rate_reset" : {\r\n        "message" : "Reestablecer reproducción de audio a velocidad normal"\r\n    },\r\n    "i18n_audio_skip_disable" : {\r\n        "message" : "Desactivar capacidad de omisión"\r\n    },\r\n    "i18n_audio_skip_enable" : {\r\n        "message" : "Activar capacidad de omisión"\r\n    },\r\n    "i18n_audio_touch_enable" : {\r\n        "message" : "Activar touch-to-play"\r\n    },\r\n    "i18n_audio_touch_disable" : {\r\n        "message" : "Desactivar touch-to-play"\r\n    },\r\n    "i18n_audio_highlight_default" : {\r\n        "message" : "por defecto"\r\n    },\r\n    "i18n_audio_highlight" : {\r\n        "message" : "Color de audio"\r\n    },\r\n    "i18n_audio_sync" : {\r\n        "message" : "Granularidad de sincronización texto/audio"\r\n    },\r\n    "i18n_audio_sync_default" : {\r\n        "message" : "Por defecto"\r\n    },\r\n    "i18n_audio_sync_word" : {\r\n        "message" : "Palabra"\r\n    },\r\n    "i18n_audio_sync_sentence" : {\r\n        "message" : "Oración"\r\n    },\r\n    "i18n_audio_sync_paragraph" : {\r\n        "message" : "Párrafo"\r\n    },\r\n    "i18n_page_previous" : {\r\n        "message" : "Página previa"\r\n    },\r\n    "i18n_page_next" : {\r\n        "message" : "Página siguiente"\r\n    },\r\n    "i18n_author_theme" : {\r\n      "message" : "Por defecto (estilos de autor)"\r\n    },\r\n\r\n  "i18n_spread_auto" : {\r\n       "message" : "Automático"\r\n    },\r\n\r\n  "i18n_scroll_mode_auto" : {\r\n      "message" : "Automático"\r\n    },\r\n\r\n   "i18n_page_transition" : {\r\n      "message" : "EFECTOS DE PÁGINA"\r\n    },\r\n    "i18n_page_transition_none" : {\r\n      "message" : "Desactivado"\r\n    },\r\n    "i18n_page_transition_fade" : {\r\n      "message" : "Apagarse"\r\n    },\r\n    "i18n_page_transition_slide" : {\r\n      "message" : "Deslizar"\r\n    },\r\n    "i18n_page_transition_swoosh" : {\r\n      "message" : "Swoosh"\r\n    },\r\n    "i18n_page_transition_butterfly" : {\r\n      "message" : "Mariposa"\r\n    },\r\n\r\n  "i18n_toolbar" : {\r\n      "message" : "Barra de herramientas"\r\n    },\r\n\r\n   "i18n_audio_play_background" : {\r\n      "message" : "Reproducir pista en segundo plano"\r\n    },\r\n    "i18n_audio_pause_background" : {\r\n      "message" : "Pausar pista en segundo plano"\r\n},\r\n\r\n   "i18n_auto_page_turn_enable" : {\r\n      "message" : "Activar vuelta de página automática"\r\n    },\r\n    "i18n_auto_page_turn_disable" : {\r\n      "message" : "Desactivar vuelta de página automática"\r\n    },\r\n\r\n   "i18n_playback_scroll_enable" : {\r\n      "message" : "Activar desplazamiento durante la reproducción"\r\n    },\r\n\r\n    "i18n_playback_scroll_disable" : {\r\n      "message" : "Desactivar desplazamiento durante la reproducción"\r\n    },\r\n\r\n    "chrome_accept_languages": {\r\n        "message": "$CHROME$ acepta idiomas $languages$",\r\n        "placeholders": {\r\n            "chrome": {\r\n                "content": "Chrome",\r\n                "example": "Chrome"\r\n            },\r\n            "languages": {\r\n                "content": "$1",\r\n                "example": "en-US,ja,sr,de,zh_CN"\r\n            }\r\n        }\r\n    }\r\n}'}),define("text!readium_js_viewer_i18n/_locales/en_US/messages.json",[],function(){return'{\r\n\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "about" : {\r\n    "message" : "About"\r\n  },\r\n  "preview" : {\r\n    "message" : "PREVIEW"\r\n  },\r\n  "list_view" : {\r\n    "message" : "List View"\r\n  },\r\n  "thumbnail_view" : {\r\n    "message" : "Thumbnail View"\r\n  },\r\n  "view_library": {\r\n    "message" : "Library"\r\n  },\r\n  "highlight_selection" : {\r\n    "message" : "Highlight Selected Text"\r\n  },\r\n  "toc" : {\r\n    "message" : "Table of Contents"\r\n  },\r\n  "settings" : {\r\n    "message" : "Settings"\r\n  },\r\n  "layout" : {\r\n    "message" : "Layout"\r\n  },\r\n  "style" : {\r\n    "message" : "Style"\r\n  },\r\n  "enter_fullscreen" : {\r\n    "message" : "Enter Fullscreen"\r\n  },\r\n  "exit_fullscreen" : {\r\n    "message" : "Exit Fullscreen"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "A reader for EPUB3 books."\r\n  },\r\n  "ok" : {\r\n    "message" : "Ok"\r\n  },\r\n  "delete_dlg_title" : {\r\n    "message" : "Confirm Delete"\r\n  },\r\n  "delete_progress_title" : {\r\n    "message" : "Delete in Progress"\r\n  },\r\n  "delete_progress_message" : {\r\n    "message" : "Deleting"\r\n  },\r\n  "migrate_dlg_title" : {\r\n    "message" : "Migrating Books"\r\n  },\r\n  "migrate_dlg_message" : {\r\n    "message" : "Loading data..."\r\n  },\r\n  "migrating" : {\r\n    "message" : "Migrating"\r\n  },\r\n  "replace_dlg_title" : {\r\n    "message": "Conflict Detected"\r\n  },\r\n  "replace_dlg_message": {\r\n    "message": "If you continue, the following epub will be replaced with the one you are importing"\r\n  },\r\n  "import_dlg_title" : {\r\n    "message": "Importing EPUB"\r\n  },\r\n  "import_dlg_message" : {\r\n    "message": "Examining EPUB content..."\r\n  },\r\n  "storing_file" : {\r\n    "message": "Storing file"\r\n  },\r\n  "err_unknown" : {\r\n    "message": "Unknown error. Check console for more details."\r\n  },\r\n  "err_storage" : {\r\n    "message": "Unable to access storage"\r\n  },\r\n  "err_epub_corrupt" : {\r\n    "message": "Invalid or corrupted EPUB package"\r\n  },\r\n  "err_ajax": {\r\n    "message": "Error in ajax request"\r\n  },\r\n  "err_dlg_title" : {\r\n    "message": "Unexpected Error"\r\n  },\r\n  "replace" : {\r\n    "message": "Replace"\r\n  },\r\n  "gethelp" : {\r\n    "message" : "If you encounter any problems, have questions, or would like to say hello, visit <a href=\\"http://idpf.org/forums/readium\\">our forum</a>"\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Readium Library"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Readium Options:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "Save changes"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "Close"\r\n  },\r\n  "i18n_keyboard_shortcuts" : {\r\n    "message" : "Keyboard shortcuts"\r\n  },\r\n  "i18n_keyboard_reload" : {\r\n    "message" : "Please reload the page for keyboard shortcuts to take effect."\r\n  },\r\n  "i18n_reset_key" : {\r\n    "message" : "Reset key"\r\n  },\r\n  "i18n_reset_key_all" : {\r\n    "message" : "Reset all keyboard shortcuts"\r\n  },\r\n  "i18n_duplicate_keyboard_shortcut" : {\r\n    "message" : "DUPLICATE"\r\n  },\r\n  "i18n_invalid_keyboard_shortcut" : {\r\n    "message" : "INVALID"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "Paginate all reflowable ePUB content"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "Automatically open *.epub urls in readium"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "Show warning messages when unpacking EPUB files"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "Details"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "Read"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "Delete"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "Author: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "Publisher: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "Source: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "Pub Date: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "Modified Date: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "EPUB version: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "Created at: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "Format: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "Added: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "Unknown"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "Sorry, the current EPUB does not contain a media overlay for this content"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "Add items to your library here!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "extracting: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "Are you sure you want to permanently delete "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Add Book To Readium Library:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "Add to Library"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "Cancel"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "From the web:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "From Local File:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "Enter a URL to a .epub file"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "Unpacked Directory:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "Validate:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "Confirm that this book complies with ePUB standards"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "Single Pages"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "Double Pages"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "Save Settings"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "FONT SIZE"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "MARGINS"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "TEXT AND BACKGROUND COLOR"\r\n  },\r\n  "i18n_author_theme" : {\r\n    "message" : "Default (author styles)"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Black and White"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Arabian Nights"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Sands of Dune"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Ballard Blues"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Vancouver Mist"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "DISPLAY FORMAT"\r\n  },\r\n  "i18n_spread_auto" : {\r\n     "message" : "Auto"\r\n  },\r\n  "i18n_scroll_mode" : {\r\n    "message" : "SCROLL MODE"\r\n  },\r\n  "i18n_scroll_mode_auto" : {\r\n    "message" : "Auto"\r\n  },\r\n  "i18n_scroll_mode_doc" : {\r\n    "message" : "Document"\r\n  },\r\n  "i18n_scroll_mode_continuous" : {\r\n    "message" : "Continuous"\r\n  },\r\n  \r\n  "i18n_page_transition" : {\r\n    "message" : "PAGE EFFECTS"\r\n  },\r\n  "i18n_page_transition_none" : {\r\n    "message" : "Disabled"\r\n  },\r\n  "i18n_page_transition_fade" : {\r\n    "message" : "Fade"\r\n  },\r\n  "i18n_page_transition_slide" : {\r\n    "message" : "Slide"\r\n  },\r\n  "i18n_page_transition_swoosh" : {\r\n    "message" : "Swoosh"\r\n  },\r\n  "i18n_page_transition_butterfly" : {\r\n    "message" : "Butterfly"\r\n  },\r\n  \r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium for Chrome is the Chrome browser extension configuration of ReadiumJS, an open source reading system and JavaScript library for displaying EPUB® publications in web browsers. ReadiumJS is a project of the Readium Foundation (Readium.org). To learn more or to contribute, visit the <a href=\\"http://readium.org/projects/readiumjs\\">project homepage</a>"\r\n  },\r\n  "i18n_toolbar" : {\r\n    "message" : "Toolbar"\r\n  },\r\n  "i18n_toolbar_show" : {\r\n    "message" : "Show toolbar"\r\n  },\r\n  "i18n_toolbar_hide" : {\r\n    "message" : "Hide toolbar"\r\n  },\r\n  "i18n_audio_play" : {\r\n    "message" : "Play"\r\n  },\r\n  "i18n_audio_pause" : {\r\n    "message" : "Pause"\r\n  },\r\n  "i18n_audio_play_background" : {\r\n    "message" : "Play background track"\r\n  },\r\n  "i18n_audio_pause_background" : {\r\n    "message" : "Pause background track"\r\n  },\r\n  "i18n_audio_previous" : {\r\n    "message" : "Previous audio phrase"\r\n  },\r\n  "i18n_audio_next" : {\r\n    "message" : "Next audio phrase"\r\n  },\r\n  "i18n_audio_volume" : {\r\n    "message" : "Audio volume"\r\n  },\r\n  "i18n_audio_volume_increase" : {\r\n    "message" : "Increase audio volume"\r\n  },\r\n  "i18n_audio_volume_decrease" : {\r\n    "message" : "Decrease audio volume"\r\n  },\r\n  "i18n_audio_time" : {\r\n    "message" : "Audio time cursor"\r\n  },\r\n  "i18n_audio_mute" : {\r\n    "message" : "Mute audio"\r\n  },\r\n  "i18n_audio_unmute" : {\r\n    "message" : "Unmute audio"\r\n  },\r\n  "i18n_audio_expand" : {\r\n    "message" : "Show advanced audio controls"\r\n  },\r\n  "i18n_audio_collapse" : {\r\n    "message" : "Close advanced audio controls"\r\n  },\r\n  "i18n_audio_esc" : {\r\n    "message" : "Escape current audio context"\r\n  },\r\n  "i18n_audio_rate" : {\r\n    "message" : "Audio playback rate"\r\n  },\r\n  "i18n_audio_rate_increase" : {\r\n    "message" : "Increase audio playback rate"\r\n  },\r\n  "i18n_audio_rate_decrease" : {\r\n    "message" : "Decrease audio playback rate"\r\n  },\r\n  "i18n_audio_rate_reset" : {\r\n    "message" : "Reset audio playback to normal speed"\r\n  },\r\n  "i18n_audio_skip_disable" : {\r\n    "message" : "Disable skippability"\r\n  },\r\n  "i18n_audio_skip_enable" : {\r\n    "message" : "Enable skippability"\r\n  },\r\n\r\n  "i18n_auto_page_turn_enable" : {\r\n    "message" : "Enable automatic page turn"\r\n  },\r\n  "i18n_auto_page_turn_disable" : {\r\n    "message" : "Disable automatic page turn"\r\n  },\r\n\r\n  "i18n_playback_scroll_enable" : {\r\n    "message" : "Enable scroll during playback"\r\n  },\r\n  "i18n_playback_scroll_disable" : {\r\n    "message" : "Disable scroll during playback"\r\n  },\r\n  \r\n  "i18n_audio_touch_enable" : {\r\n    "message" : "Enable touch-to-play"\r\n  },\r\n  "i18n_audio_touch_disable" : {\r\n    "message" : "Disable touch-to-play"\r\n  },\r\n  "i18n_audio_highlight_default" : {\r\n    "message" : "default"\r\n  },\r\n  "i18n_audio_highlight" : {\r\n    "message" : "Audio color"\r\n  },\r\n  "i18n_audio_sync" : {\r\n    "message" : "Text/audio synchronization granularity"\r\n  },\r\n  "i18n_audio_sync_default" : {\r\n    "message" : "Default"\r\n  },\r\n  "i18n_audio_sync_word" : {\r\n    "message" : "Word"\r\n  },\r\n  "i18n_audio_sync_sentence" : {\r\n    "message" : "Sentence"\r\n  },\r\n  "i18n_audio_sync_paragraph" : {\r\n    "message" : "Paragraph"\r\n  },\r\n  "i18n_page_previous" : {\r\n    "message" : "Previous Page"\r\n  },\r\n  "i18n_page_next" : {\r\n    "message" : "Next Page"\r\n  },\r\n  "i18n_page_navigation" : {\r\n    "message" : "Page Navigation"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n'
}),define("text!readium_js_viewer_i18n/_locales/fr/messages.json",[],function(){return'{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "Un lecteur de livres numériques EPUB3."\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Bibliothèque Readium"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Chargement de la bibliothèque"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Options de Readium :"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "Enregistrer les changements"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "Fermer"\r\n  },\r\n  "i18n_keyboard_shortcuts" : {\r\n    "message" : "Raccourcis clavier"\r\n  },\r\n  "i18n_keyboard_reload" : {\r\n    "message" : "Veuillez recharger la page pour que les raccourcis clavier prennent effet."\r\n  },\r\n  "i18n_reset_key" : {\r\n    "message" : "Réinitialiser le raccourci clavier par défaut"\r\n  },\r\n  "i18n_reset_key_all" : {\r\n    "message" : "Réinitialiser tous les raccourcis clavier par défaut"\r\n  },\r\n  "i18n_duplicate_keyboard_shortcut" : {\r\n    "message" : "DUPLIQUE"\r\n  },\r\n  "i18n_invalid_keyboard_shortcut" : {\r\n    "message" : "INVALIDE"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "Paginer tout le contenu des EPUB recomposables"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "Ouvrir automatiquement les urls *.epub dans Readium"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "Montrer les messages d\'avertissement pendant la décompression des fichiers EPUB"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "Détails"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "Lire"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "Supprimer"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "Auteur : "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "Éditeur : "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "Source : "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "Date de publication :  "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "Date de modification : "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "version de l\'EPUB : "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "Ajouté le : "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "Format : "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "Ajouté le : "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "Inconnu"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "Désolé, l\'EPUB actuel ne contient pas de média associé (media overlay) pour ce contenu"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "Ajoutez des articles à votre bibliothèque ici !"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "extraction : "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "Voulez-vous vraiment supprimer "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Ajoutez un livre à la bibliothèque de Readium :"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "Ajouter un livre"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "Annuler"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "À partir du Web :"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "À partir d\'un fichier local :"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "Entrez l\'URL d\'un fichier .epub"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "Répertoire non-compressé :"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "Valider :"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "Confirmer que ce livre est conforme aux standards EPUB"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "Pages simples"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "Doubles-pages"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "Enregistrer"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "TAILLE DE LA POLICE"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "MARGES"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "COULEUR DU TEXTE ET DU FOND"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Noir et Blanc"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Mille et une Nuits"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Sables de Dune"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Le Blues de Ballard"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Le Brouillard de Vancouver"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "FORMAT D\'AFFICHAGE"\r\n  },\r\n  "i18n_scroll_mode" : {\r\n    "message" : "MODE DE DÉFILEMENT"\r\n  },\r\n  "i18n_scroll_mode_auto" : {\r\n    "message" : "Auto"\r\n  },\r\n  "i18n_scroll_mode_doc" : {\r\n    "message" : "Document"\r\n  },\r\n  "i18n_scroll_mode_continuous" : {\r\n    "message" : "Continu"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium pour Chrome est l\'extension du navigateur Chrome de ReadiumJS, un système de lecture open-source et une librairie JavaScript pour afficher des documents EPUB® dans les navigateurs web. ReadiumJS est un projet de la fondation Readium (Readium.org). Pour en savoir plus ou pour contribuer, visiter la <a href=\\"http://readium.org/projects/readiumjs\\">page d\'accueil du projet</a>."\r\n  },\r\n  "i18n_audio_play" : {\r\n    "message" : "Jouer"\r\n  },\r\n  "i18n_audio_pause" : {\r\n    "message" : "Pauser"\r\n  },\r\n  "i18n_audio_previous" : {\r\n    "message" : "Phrase audio précédente"\r\n  },\r\n  "i18n_audio_next" : {\r\n    "message" : "Phrase audio suivante"\r\n  },\r\n  "i18n_audio_volume" : {\r\n    "message" : "Ajustement du volume audio"\r\n  },\r\n  "i18n_audio_time" : {\r\n    "message" : "Contrôle du curseur temporel audio"\r\n  },\r\n  "i18n_audio_mute" : {\r\n    "message" : "Silence audio"\r\n  },\r\n  "i18n_audio_unmute" : {\r\n    "message" : "Restaurer le volume audio"\r\n  },\r\n  "i18n_audio_expand" : {\r\n    "message" : "Afficher les contrôles audio avancés"\r\n  },\r\n  "i18n_audio_collapse" : {\r\n    "message" : "Fermer les contrôles audio avancés"\r\n  },\r\n  "i18n_audio_esc" : {\r\n    "message" : "Échapper le contexte audio actuel"\r\n  },\r\n  "i18n_audio_rate" : {\r\n    "message" : "Vitesse de lecture audio"\r\n  },\r\n  "i18n_audio_rate_reset" : {\r\n    "message" : "Retour à la vitesse normale de lecture audio"\r\n  },\r\n  "i18n_audio_skip_disable" : {\r\n    "message" : "Désactiver la \'skippabilité\'"\r\n  },\r\n  "i18n_audio_skip_enable" : {\r\n    "message" : "Activer la \'skippabilité\'"\r\n  },\r\n  "i18n_audio_touch_enable" : {\r\n    "message" : "Activer la fonction \'toucher pour jouer\'"\r\n  },\r\n  "i18n_audio_touch_disable" : {\r\n    "message" : "Désactiver la fonction \'toucher pour jouer\'"\r\n  },\r\n  "i18n_audio_highlight_default" : {\r\n    "message" : "défaut"\r\n  },\r\n  "i18n_audio_highlight" : {\r\n    "message" : "Couleur audio"\r\n  },\r\n  "i18n_audio_sync" : {\r\n    "message" : "Granularité de synchronisation texte / audio"\r\n  },\r\n  "i18n_audio_sync_default" : {\r\n    "message" : "Défaut"\r\n  },\r\n  "i18n_audio_sync_word" : {\r\n    "message" : "Mot"\r\n  },\r\n  "i18n_audio_sync_sentence" : {\r\n    "message" : "Phrase"\r\n  },\r\n  "i18n_audio_sync_paragraph" : {\r\n    "message" : "Paragraphe"\r\n  },\r\n  "i18n_page_previous" : {\r\n    "message" : "Page précédente"\r\n  },\r\n  "i18n_page_next" : {\r\n    "message" : "Page suivante"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,fr,ja,de"\r\n      }\r\n    }\r\n  }\r\n}\r\n'}),define("text!readium_js_viewer_i18n/_locales/it/messages.json",[],function(){return'{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "Un visualizzatore di documenti EPUB3"\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Biblioteca di Readium"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Caricamento biblioteca"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Opzioni di Readium"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "Applica"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "Chiudi"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "Impagina anche i file EPUB reflowable"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "Apri in Readium gli URL che terminano in .epub"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "Mostra errori e avvisi relativi ai file EPUB"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "Dettagli"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "Leggi"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "Elimina"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "Autore: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "Editore: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "Origine: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "Data pubblicazione: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "Data ultima modifica: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "Versione EPUB: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "Data importazione: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "Formato: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "Aggiunto: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "Sconosciuto"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "Spiacente, non ci sono risorse Media Overlays associate a questo elemento."\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "Aggiungi libri alla tua biblioteca!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "Decomprimendo: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "Sei sicuro di voler cancellare definitivamente "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Aggiungi libro alla Biblioteca di Readium"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "Aggiungi libro"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "Annulla"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "Scarica dal Web:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "Importa file EPUB dal tuo computer:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "Indirizzo Web del file EPUB che vuoi aggiungere:"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "Importa directory decompressa:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "Convalida:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "Controlla che i file siano conformi allo standard EPUB prima di aprirli"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "Singole"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "Affiancate"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "Applica"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "DIMENSIONE CARATTERE"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "MARGINI"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "COMBINAZIONE COLORE TESTO/SFONDO"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Bianco su nero"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Notturno"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Deserto"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Mediterraneo"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Nebbia"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "VISUALIZZAZIONE PAGINE"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>, progetto dell\'International Digital Publishing Forum (IDPF) e dei suoi sostenitori, è una piattaforma open source di lettura e un motore di rendering per documenti in formato EPUB&reg;. Per saperne di più, visita la <a href=\\"http://readium.org/\\">pagina principale del progetto</a>. Lo sviluppo del progetto è stato guidato da <a href=\\"http://evidentpoint.com/\\">Evident Point</a> e <a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>. Per contribuire, visita il <a href=\\"https://github.com/readium/readium-js-viewer\\">repository github</a>."\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accetta le seguenti lingue: $languages$",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,it,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n'}),define("text!readium_js_viewer_i18n/_locales/id/messages.json",[],function(){return'{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "reader untuk buku-buku EPUB3 ."\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Perpustakaan Readium"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Pilihan Readium :"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "Simpan perubahan"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "Tutup"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "Paginate all reflowable ePUB content"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "Secara otomatis buka *.epub urls di readium"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "Tampilkan pesan peringatan ketika unpacking file EPUB"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "Detail"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "Baca"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "Hapus"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "Penulis: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "Penerbit: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "Sumber: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "Tgl Terbit: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "Tgl Modifikasi: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "Versi EPUB: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "Dibuat di: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "Format: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "Menambahkan: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "Tidak dikenal"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "Maaf, EPUB saat ini tidak berisi overlay media untuk konten ini "\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "Masukkan item r Library disini!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "extracting: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "Apakah and yakin ingin menghapus secara permanen "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Masukkan Buku ke Readium Library:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "Add Book"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "Batal"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "Dari Web:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "Dari File local:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "Masukkan  URL ke file .epub "\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "Unpacked Directory:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "Validasi:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "Konfirmasikan bahwa buku ini sesuai dengan standar EPUB"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "Single Pages"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "Double Pages"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "Save Settings"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "FONT SIZE"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "MARGINS"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "TEKS DAN WARNA LATAR"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Black and White"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Arabian Nights"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Sands of Dune"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Ballard Blues"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Vancouver Mist"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "DISPLAY FORMAT"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>, a project of the International Digital Publishing Forum (IDPF) and supporters, adalah sistem referensi open source DAN rendering engine untuk EPUB&reg; publikasi.  Untuk mengetahui lebih lanjut, kunjungi <a href=\\"http://readium.org/\\">project homepage</a>. Sampai saat ini, pengembangan project telah dipimpin oleh  <a href=\\"http://evidentpoint.com/\\">Evident Point</a> and <a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>. Untuk kontribusi, kunjungi <a href=\\"https://github.com/readium/readium-js-viewer\\">github repository</a>"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n'}),define("text!readium_js_viewer_i18n/_locales/ja/messages.json",[],function(){return'{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "EPUB3ブックリーダ"\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Readiumライブラリ"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Readiumオプション:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "変更を保存"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "閉じる"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "リフロー可能なEPUBコンテンツをすべてページネートする"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "URLが*.epubなら自動でReadiumで開く"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "EPUBファイルを展開する際には警告メッセージを表示する"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "詳細"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "読む"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "削除"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "著者: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "出版社: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "ソース: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "出版日時: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "更新日時: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "EPUBバージョン: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "追加日時: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "フォーマット: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "追加日時: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "不明"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "現在のEPUBにはこのコンテンツのメディアオーバーレイが含まれていません"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "ここをクリックして本を登録します!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "展開しています: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "本を削除します: "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Readiumライブラリに本を追加します:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "本の追加"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "キャンセル"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "Webから:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "ローカルファイルから:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : ".epubファイルのURLを入力してください"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "パッケージ化されていないフォルダ:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "検証（バリデート）:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "この本がEPUB仕様に準拠していることを確認する"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "単ページ"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "ダブル"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "設定を保存する"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "文字サイズ"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "マージン"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "文字色と背景色"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "白背景に黒文字"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "アラビアンナイト"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "砂丘の砂"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "バラード ブルース"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "バンクーバーの霧"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "表示形式"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>とは, International Digital Publishing Forum (IDPF) と支援企業によるプロジェクトで, EPUB&reg; 出版のためのシステムとレンダリングエンジンのオープンソースリファレンスです。詳しくは、<a href=\\"http://readium.org/\\">プロジェクトホームページ</a>をご覧ください。これまでは<a href=\\"http://evidentpoint.com/\\">Evident Point</a>と<a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>がプロジェクト開発をリードしてきました。 コントリビュートするには<a href=\\"https://github.com/readium/readium-js-viewer\\">githubレポジトリ</a>をご覧ください。"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,ja,sr,de"\r\n      }\r\n    }\r\n  }\r\n}\r\n'}),define("text!readium_js_viewer_i18n/_locales/ko/messages.json",[],function(){return'{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "EPUB3책 리더."\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Readium 라이브러리"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Readium 옵션:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "변경사항 저장"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "닫기"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "모든 리플로우 컨텐츠의 페이지네이션"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "*.epub url들을 radium에서 자동으로 열기"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "EPUB파일들을 열 때 경고메시지 표시"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "세부항목"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "읽기"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "삭제"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "저자: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "출판사: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "소스: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "출판일: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "개정일: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "EPUB 버전: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "생성: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "포맷: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "추가일시: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "미상"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "현재 EPUB은 이 컨텐츠를 위한 미디어 오버레이가 포함되어 있지 않습니다."\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "책을 등록하기 위하여 여기를 클릭하세요!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "정보 추출 중: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "영구히 삭제하시길 원하십니까? "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Readium 라이브러리에 책 추가:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "책 추가"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "취소"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "웹에서:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "로컬 파일에서:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : ".epub 파일의 URL을 입력하세요"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "추출된 디렉토리:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "승인:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "이 책이 ePUB표준을 따르는지 확인"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "단일 페이지"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "더블 페이지"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "설정 저장"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "폰트 크기"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "여백"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "글자와 배경 색"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "흑백"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "아라비안 나이트"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "샌즈 오브 듄"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "발라드 블루스"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "밴쿠버 안개"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "디스플레이 포맷"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>는 EPUB&reg;컨텐츠의 출판을 위한 국제디지털출판포럼(IDPF, International Digital Publishing Forum)과 지원 기업들의 오픈소스 시스템 및 렌더링 엔진 프로젝트입니다. 자세한 내용은 <a href=\\"http://readium.org/\\">프로젝트 홈페이지</a>를 참조하세요. 지금까지, 프로젝트 개발은 <a href=\\"http://evidentpoint.com/\\">Evident Point</a>와 <a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>에 의해서 주도 되었습니다. 프로젝트에 기여하시기 위해서는 <a href=\\"https://github.com/readium/readium-js-viewer\\">github 저장소</a>를 확인하시기 바랍니다."\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n'}),define("text!readium_js_viewer_i18n/_locales/pt_BR/messages.json",[],function(){return'{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description" : {\r\n    "message": "Um leitor para livros para EPUB3."\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Biblioteca Readium"\r\n  },\r\n  "i18n_loading" : {\r\n   "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Opções do Readium:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "Salvar mudanças"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "Fechar"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "Paginar todo o conteúdo ePUB fluído"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "Abrir automaticamente urls *.epub no readium"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "Exibir mensagem de alerta quando extraindo arquivos EPUB"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "Detalhes"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "Ler"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "Excluir"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "Autor: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "Editora: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "Origem: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "Publicação: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "Data de Modificação: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "Versão do EPUB: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "Criado aos: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "Formato: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "Adicionado: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "Desconhecido"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "Desculpe, o atual EPUB não contém uma mídia de sobreposição para este conteúdo"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "Adicione itens para sua biblioteca aqui!"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "extraindo: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "Você tem certeza de que deseja excluir permanentemente "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "Adicionar Livro à Biblioteca Readium:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "Adicionar Livro"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "Cancelar"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "Da Rede:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "De Arquivo Local:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "Insira uma URL para um arquivo .epub"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "Diretório Extraido:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "Validar:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "Confirmar que este livro obedece aos padrões ePUB"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "Pág. Simples"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "Pág. Duplas"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "Salvar Configurações"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "TAMANHO DA FONTE"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "MARGENS"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "COR DO TEXTO E PLANO DE FUNDO"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Preto e Branco"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Noites Árabes"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Areias de Duna"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Ballard Blues"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Névoa de Vancouver"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "FORMATO DE EXIBIÇÃO"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>, a project of the International Digital Publishing Forum (IDPF) and supporters, is an open source reference system and rendering engine for EPUB&reg; publications.  To learn more, visit the <a href=\\"http://readium.org/\\">project homepage</a>. To date, the project development has been lead by <a href=\\"http://evidentpoint.com/\\">Evident Point</a> and <a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>. To contribute visit the <a href=\\"https://github.com/readium/readium-js-viewer\\">github repository</a>"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,pt-BR,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n'}),define("text!readium_js_viewer_i18n/_locales/zh_CN/messages.json",[],function(){return'{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "EPUB3电子书阅览器"\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Readium书库"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Readium选项:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "保存更改"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "关闭"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "分页显示所有可重排版EPUB文件"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "自动用Readium打开*.epub网址"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "解压缩EPUB文件时显示警告消息"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "详细信息"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "阅读"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "删除"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "作者: "\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "出版社: "\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "源自: "\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "出版日期: "\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "更新日期: "\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID: "\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "EPUB版本: "\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "创建日期: "\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "格式: "\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "添加: "\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "未知"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "目前EPUB不支持此内容的媒体格式"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "点击这里添加新书"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "解压中: "\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "确定永久删除 "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "添加新书到Readium书库:"\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "添加"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "取消"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "从网络:"\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "从本地文件:"\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "请输入一个.EPUB文件的URL"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "未打包目录:"\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "验证:"\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "确认这本书是否符合EPUB标准"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "单页"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "双页"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "保存设置"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "字体大小"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "页边距"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "字体和背景颜色"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "Black and White"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "Arabian Nights"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "Sands of Dune"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "Ballard Blues"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "Vancouver Mist"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "显示格式"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>，是一个International Digital Publishing Forum (IDPF)和技术支持者们共同开发的项目，也是一个开放源代码的EPUB格式出版物的渲染引擎。要了解更多信息，请访问<a href=\\"http://readium.org/\\">项目主页</a>。迄今为止，该项目的开发一直由<a href=\\"http://evidentpoint.com/\\">Evident Point</a>和<a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>来领导。要贡献请访问<a href=\\"https://github.com/readium/readium-js-viewer\\">GitHub资料库</a>"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,ja,sr,de,zh_CN"\r\n      }\r\n    }\r\n  }\r\n}\r\n'
}),define("text!readium_js_viewer_i18n/_locales/zh_TW/messages.json",[],function(){return'{\r\n  "chrome_extension_name": {\r\n    "message": "Readium"\r\n  },\r\n  "chrome_extension_description": {\r\n    "message": "EPUB3電子書閱讀器"\r\n  },\r\n  "i18n_readium_library" : {\r\n    "message" : "Readium書櫃"\r\n  },\r\n  "i18n_loading" : {\r\n    "message" : "Loading Library"\r\n  },\r\n  "i18n_readium_options" : {\r\n    "message" : "Readium設定:"\r\n  },\r\n  "i18n_save_changes" : {\r\n    "message" : "儲存變更"\r\n  },\r\n  "i18n_close" : {\r\n    "message" : "關閉"\r\n  },\r\n  "i18n_paginate_all" : {\r\n    "message" : "分頁呈現所有文字順走型的EPUB內容"\r\n  },\r\n  "i18n_automatically" : {\r\n    "message" : "自動以Readium開啟任何以.epub結尾的網址"\r\n  },\r\n  "i18n_show_warning" : {\r\n    "message" : "解壓縮EPUB檔案時顯示警告訊息"\r\n  },\r\n  "i18n_details" : {\r\n    "message" : "詳細"\r\n  },\r\n  "i18n_read" : {\r\n    "message" : "閱讀"\r\n  },\r\n  "i18n_delete" : {\r\n    "message" : "刪除"\r\n  },\r\n  "i18n_author" : {\r\n    "message" : "作者："\r\n  },\r\n  "i18n_publisher" : {\r\n    "message" : "出版社："\r\n  },\r\n  "i18n_source" : {\r\n    "message" : "來源："\r\n  },\r\n  "i18n_pub_date" : {\r\n    "message" : "出版日期："\r\n  },\r\n  "i18n_modified_date" : {\r\n    "message" : "更新日期："\r\n  },\r\n  "i18n_id" : {\r\n    "message" : "ID："\r\n  },\r\n  "i18n_epub_version" : {\r\n    "message" : "EPUB版本："\r\n  },\r\n  "i18n_created_at" : {\r\n    "message" : "建立日期："\r\n  },\r\n  "i18n_format" : {\r\n    "message" : "格式："\r\n  },\r\n  "i18n_added" : {\r\n    "message" : "加入日期："\r\n  },\r\n  "i18n_unknown" : {\r\n    "message" : "未知"\r\n  },\r\n  "i18n_sorry" : {\r\n    "message" : "目前的EPUB內容並不包含朗讀聲音"\r\n  },\r\n  "i18n_add_items" : {\r\n    "message" : "按下這裡加入新書"\r\n  },\r\n  "i18n_extracting" : {\r\n    "message" : "解壓縮中："\r\n  },\r\n  "i18n_are_you_sure" : {\r\n    "message" : "你確定要永久刪除 "\r\n  },\r\n  "i18n_add_book_to_readium_library" : {\r\n    "message" : "將書籍加入Readium書櫃："\r\n  },\r\n  "i18n_add_book" : {\r\n    "message" : "加入書籍"\r\n  },\r\n  "i18n_cancel" : {\r\n    "message" : "取消"\r\n  },\r\n  "i18n_from_the_web" : {\r\n    "message" : "從網站加入："\r\n  },\r\n  "i18n_from_local_file" : {\r\n    "message" : "從檔案加入："\r\n  },\r\n  "i18n_enter_a_url" : {\r\n    "message" : "請輸入 .epub 檔案所在網址"\r\n  },\r\n  "i18n_unpacked_directory" : {\r\n    "message" : "未壓縮目錄："\r\n  },\r\n  "i18n_validate" : {\r\n    "message" : "檢證："\r\n  },\r\n  "i18n_confirm_that_this_book" : {\r\n    "message" : "確認這本書是否符合EPUB標準"\r\n  },\r\n  "i18n_single_pages" : {\r\n    "message" : "單頁呈現"\r\n  },\r\n  "i18n_double_pages" : {\r\n    "message" : "跨頁呈現"\r\n  },\r\n  "i18n_save_settings" : {\r\n    "message" : "儲存設定"\r\n  },\r\n  "i18n_font_size" : {\r\n    "message" : "文字尺寸"\r\n  },\r\n  "i18n_margins" : {\r\n    "message" : "頁緣餘白"\r\n  },\r\n  "i18n_text_and_background_color" : {\r\n    "message" : "文字與背景色彩"\r\n  },\r\n  "i18n_black_and_white" : {\r\n    "message" : "黑底與白字"\r\n  },\r\n  "i18n_arabian_nights" : {\r\n    "message" : "阿拉伯之夜"\r\n  },\r\n  "i18n_sands_of_dune" : {\r\n    "message" : "砂丘之黃砂"\r\n  },\r\n  "i18n_ballard_blues" : {\r\n    "message" : "抒情曲藍調"\r\n  },\r\n  "i18n_vancouver_mist" : {\r\n    "message" : "溫哥華之霧"\r\n  },\r\n  "i18n_display_format" : {\r\n    "message" : "顯示格式"\r\n  },\r\n  "i18n_html_readium_tm_a_project" : {\r\n    "message" : "Readium<sup>TM</sup>是由是International Digital Publishing Forum (IDPF)與技術協助者們共同開發的專案，是供EPUB&reg; 出版品使用的開放原始碼參考系統與排版引擎。要了解更多訊息，請前往<a href=\\"http://readium.org/\\">專案網頁</a>。迄今為止，本專案持續由<a href=\\"http://evidentpoint.com/\\">Evident Point</a>和<a href=\\"http://www.bluefirereader.com/\\">Bluefire Productions</a>所主導。若想協助開發，請前往<a href=\\"https://github.com/readium/readium-js-viewer\\">GitHub專案</a>"\r\n  },\r\n  "chrome_accept_languages": {\r\n    "message": "$CHROME$ accepts $languages$ languages",\r\n    "placeholders": {\r\n      "chrome": {\r\n        "content": "Chrome",\r\n        "example": "Chrome"\r\n      },\r\n      "languages": {\r\n        "content": "$1",\r\n        "example": "en-US,zh-TW,zh-HK,ja,sr,de"\r\n      }\r\n    }\r\n  }\r\n}\r\n'}),define("i18nStrings",["text!readium_js_viewer_i18n/_locales/de/messages.json","text!readium_js_viewer_i18n/_locales/es/messages.json","text!readium_js_viewer_i18n/_locales/en_US/messages.json","text!readium_js_viewer_i18n/_locales/fr/messages.json","text!readium_js_viewer_i18n/_locales/it/messages.json","text!readium_js_viewer_i18n/_locales/id/messages.json","text!readium_js_viewer_i18n/_locales/ja/messages.json","text!readium_js_viewer_i18n/_locales/ko/messages.json","text!readium_js_viewer_i18n/_locales/pt_BR/messages.json","text!readium_js_viewer_i18n/_locales/zh_CN/messages.json","text!readium_js_viewer_i18n/_locales/zh_TW/messages.json"],function(e,n,r,a,i,t,s,o,d,l,b){var u={};u.de=e,u.es=n,u.en_US=r,u.fr=a,u.id=i,u.it=t,u.ja=s,u.ko=o,u.pt_BR=d,u.zh_CN=l,u.zh_TW=b;var c=navigator.userLanguage||navigator.language;console.log("Language: ["+c+"]");var g=!0,m=u[c]||r,_=JSON.parse(m),p=m===r?_:JSON.parse(r);for(var v in p){var h=v in _;h||console.log("Language ["+c+"], missing string: ["+v+"]"),_[v]=h?_[v].message:g?"*"+p[v].message:""}return _}),define("readium_js_viewer/EpubLibraryManager",["jquery","./ModuleConfig","./PackageParser","./workers/WorkerProxy","StorageManager","i18nStrings"],function(e,n,r,a,i){var t=function(){},s=function(e){if(!e||!n.epubLibraryPath)return e;0==e.indexOf("epub_content/")&&(e=e.replace("epub_content/",""));var r=n.epubLibraryPath.split("/");r.pop();var a=r.join("/");return e=a+("/"==e.charAt(0)?"":"/")+e};return t.prototype={_getFullUrl:function(e,n){if(!n)return null;var r=e.split("/");r.pop();var a=r.join("/");return a+("/"==n.charAt(0)?"":"/")+n},retrieveAvailableEpubs:function(r){if(this.libraryData)return void r(this.libraryData);var a=i.getPathUrl(n.epubLibraryPath?n.epubLibraryPath:"/epub_library.json"),t=this;e.getJSON(a,function(e){if(n.epubLibraryPath)for(var a=0;a<e.length;a++)e[a].coverHref=s(e[a].coverHref),e[a].rootUrl=s(e[a].rootUrl);t.libraryData=e,r(e)}).fail(function(){t.libraryData=[],r([])})},deleteEpubWithId:function(e,n,r){a.deleteEpub(e,this.libraryData,{success:this._refreshLibraryFromWorker.bind(this,n),error:r})},retrieveFullEpubDetails:function(n,a,i,t,s,o){var d=this;e.get(n,function(e){if("string"==typeof e){var o=new window.DOMParser;e=o.parseFromString(e,"text/xml")}var l=r.parsePackageDom(e,n);l.coverHref=l.coverHref?d._getFullUrl(n,l.coverHref):void 0,l.packageUrl=n,l.rootDir=i,l.rootUrl=a,l.noCoverBackground=t,s(l)}).fail(o)},_refreshLibraryFromWorker:function(e,n){this.libraryData=n,e()},handleZippedEpub:function(e){a.importZip(e.file,this.libraryData,{progress:e.progress,overwrite:e.overwrite,success:this._refreshLibraryFromWorker.bind(this,e.success),error:e.error})},handleDirectoryImport:function(e){for(var n=e.files,r={},i=0;i<n.length;i++){var t=n[i].webkitRelativePath;if(-1==t.indexOf("/.")){var s=t.split("/");s.shift();var o=s.join("/");r[o]=n[i]}}a.importDirectory(r,this.libraryData,{progress:e.progress,overwrite:e.overwrite,success:this._refreshLibraryFromWorker.bind(this,e.success),error:e.error})},handleUrlImport:function(e){a.importUrl(e.url,this.libraryData,{progress:e.progress,overwrite:e.overwrite,success:this._refreshLibraryFromWorker.bind(this,e.success),error:e.error})},handleMigration:function(e){a.migrateOldBooks({progress:e.progress,success:this._refreshLibraryFromWorker.bind(this,e.success),error:e.error})},handleUrl:function(){},canHandleUrl:function(){return n.canHandleUrl},canHandleDirectory:function(){return n.canHandleDirectory}},window.cleanEntireLibrary=function(){i.deleteFile("/",function(){console.log("done")},console.error)},new t}),define("hgn",["hogan","text"],function(e,n){function r(r,t,s,l){var b=l.hgn||{},u=r;u+=b&&null!=b.templateExtension?b.templateExtension:o,n.get(t.toUrl(u),function(n){var t=b.compilationOptions?i({},b.compilationOptions):{};l.isBuild&&(t.asString=!0,d[r]=e.compile(n,t));var o=e.compile(n,t),u=a(o.render,o);u.text=o.text,u.template=o,s(u)})}function a(e,n){return function(){return e.apply(n,arguments)}}function i(e,n){var r;for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}function t(n,r,a){if(r in d){s||(s=e.compile(l));var i=d[r];a(s.render({pluginName:n,moduleName:r,fn:i}))}}var s,o=".mustache",d={},l='define("{{pluginName}}!{{moduleName}}", ["hogan"], function(hogan){  var tmpl = new hogan.Template({{{fn}}}, "", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n';return{load:r,write:t}}),define("hgn!readium_js_viewer_html_templates/library-navbar.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div class="btn-group navbar-left">\r'),a.b("\n"+r),a.b('    <button id="aboutButt1" tabindex="1" type="button" class="btn icon-logo" data-toggle="modal" data-target="#about-dialog" title="'),a.b(a.v(a.d("strings.about",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.about",e,n,0))),a.b('"></button>\r'),a.b("\n"+r),a.b("</div>\r"),a.b("\n"+r),a.b('<div class="btn-group navbar-right">\r'),a.b("\n"+r),a.b('	<button tabindex="1" type="button" class="btn icon-thumbnails" title="'),a.b(a.v(a.d("strings.thumbnail_view",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.thumbnail_view",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('		<span class="glyphicon glyphicon-th" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("	</button>\r"),a.b("\n"+r),a.b('	<button tabindex="1" type="button" class="btn icon-list-view" title="'),a.b(a.v(a.d("strings.list_view",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.list_view",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('		<span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("	</button>\r"),a.b("\n"+r),a.b('    <button id="addbutt" tabindex="1" type="button" class="btn icon-add-epub" title="'),a.b(a.v(a.d("strings.i18n_add_book",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_add_book",e,n,0))),a.b('" data-toggle="modal" data-target="#add-epub-dialog">\r'),a.b("\n"+r),a.b('    	<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("    </button>\r"),a.b("\n"+r),a.b('    <button id="settbutt1" tabindex="1" type="button" class="btn icon-settings" title="'),a.b(a.v(a.d("strings.settings",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.ShowSettingsModal",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.settings",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.ShowSettingsModal",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.ShowSettingsModal",e,n,0))),a.b('" data-toggle="modal" data-target="#settings-dialog">\r'),a.b("\n"+r),a.b('    	<span class="glyphicon glyphicon-cog" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("    </button>\r"),a.b("\n"+r),a.b("</div>"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/library-body.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div class="row library-items" role="main">\r'),a.b("\n"+r),a.b("</div>"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/empty-library.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div class="pull-right">\r'),a.b("\n"+r),a.b('	<div id="empty-message">\r'),a.b("\n"+r),a.b("		"),a.b(a.v(a.d("strings.i18n_add_items",e,n,0))),a.b("\r"),a.b("\n"+r),a.b("	</div>\r"),a.b("\n"+r),a.b('	<img id="empty-message-arrow" src="'),a.b(a.t(a.f("imagePathPrefix",e,n,0))),a.b('images/library_arrow.png" alt="">\r'),a.b("\n"+r),a.b("</div>\r"),a.b("\n"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/library-item.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div class="col-xs-4 col-sm-3 col-md-2 library-item">\r'),a.b("\n"+r),a.b("    <div class='info-wrap'>\r"),a.b("\n"+r),a.b("        <!-- <div class='caption book-info'>\r"),a.b("\n"+r),a.b("            <h4 class='title'>"),a.b(a.v(a.d("epub.title",e,n,0))),a.b("</h4>\r"),a.b("\n"+r),a.b("            <div class='author'>"),a.b(a.v(a.d("epub.author",e,n,0))),a.s(a.d("epub.author",e,n,1),e,n,1,0,0,"")||a.b("No Author Listed"),a.b("</div>\r"),a.b("\n"+r),a.b("        </div> -->\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('            <button type="button" style="background: none; border: none; padding: 0; margin: 0;" class="read" data-book="'),a.b(a.v(a.d("epub.rootUrl",e,n,0))),a.b('"  aria-label="('),a.b(a.v(a.d("count.n",e,n,0))),a.b(") "),a.b(a.v(a.d("epub.title",e,n,0))),a.b('" title="('),a.b(a.v(a.d("count.n",e,n,0))),a.b(") "),a.b(a.v(a.d("epub.title",e,n,0))),a.b('"  tabindex="'),a.b(a.v(a.d("count.tabindex",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.s(a.d("epub.coverHref",e,n,1),e,n,0,598,748,"{{ }}")&&(a.rs(e,n,function(e,n,a){a.b('        <div aria-hidden="true" class="no-cover has-cover" style="background-image:url('),a.b(a.v(a.d("epub.coverHref",e,n,0))),a.b(');"><p>&nbsp;</p></div>\r'),a.b("\n"+r)}),e.pop()),a.b("\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.s(a.d("epub.coverHref",e,n,1),e,n,1,0,0,"")||(a.b('        <div aria-hidden="true" class="no-cover" style="background-image: url(\''),a.b(a.v(a.f("noCoverBackground",e,n,0))),a.b("')\"><p>"),a.b(a.v(a.d("epub.title",e,n,0))),a.b("</p></div>\r"),a.b("\n"+r)),a.b("    </button>\r"),a.b("\n"+r),a.b("    </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('    <!-- <div class="caption buttons">\r'),a.b("\n"+r),a.b('        <a href="#" class="btn btn-default read" data-book="'),a.b(a.v(a.d("epub.packageUrl",e,n,0))),a.b('" role="button">'),a.b(a.v(a.d("strings.i18n_read",e,n,0))),a.b("</a>\r"),a.b("\n"+r),a.b('        <a href="#details-modal" data-book="'),a.b(a.v(a.d("epub.packageUrl",e,n,0))),a.b('" aria-pressed="true" class="btn btn-default details" data-toggle="modal" role="button">'),a.b(a.v(a.d("strings.i18n_details",e,n,0))),a.b("</a>\r"),a.b("\n"+r),a.b("    </div> -->\r"),a.b("\n"+r),a.b("    <div class='caption book-info'>\r"),a.b("\n"+r),a.b("        <h4 class='title'>"),a.b(a.v(a.d("epub.title",e,n,0))),a.b("</h4>\r"),a.b("\n"+r),a.b("        <div class='author'>"),a.b(a.v(a.d("epub.author",e,n,0))),a.s(a.d("epub.author",e,n,1),e,n,1,0,0,"")||a.b("No Author Listed"),a.b("</div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('        <div class="buttons">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('         <button aria-label="'),a.b(a.v(a.d("strings.i18n_details",e,n,0))),a.b(" ("),a.b(a.v(a.d("count.n",e,n,0))),a.b(") "),a.b(a.v(a.d("epub.title",e,n,0))),a.b('" title="'),a.b(a.v(a.d("strings.i18n_details",e,n,0))),a.b(" ("),a.b(a.v(a.d("count.n",e,n,0))),a.b(") "),a.b(a.v(a.d("epub.title",e,n,0))),a.b('" tabindex="'),a.b(a.v(a.d("count.tabindex",e,n,0))),a.b('" data-toggle="modal" data-target="#details-modal" data-package="'),a.b(a.v(a.d("epub.rootUrl",e,n,0))),a.b("/"),a.b(a.v(a.d("epub.packagePath",e,n,0))),a.b('" data-root="'),a.b(a.v(a.d("epub.rootUrl",e,n,0))),a.b('" data-root-dir="'),a.b(a.v(a.d("epub.rootDir",e,n,0))),a.b('" '),a.s(a.d("epub.coverHref",e,n,1),e,n,1,0,0,"")||(a.b(' data-no-cover="'),a.b(a.v(a.f("noCoverBackground",e,n,0))),a.b('" ')),a.b(' class="btn btn-info details">'),a.b(a.v(a.d("strings.i18n_details",e,n,0))),a.b("</button></div>\r"),a.b("\n"+r),a.b("    </div>\r"),a.b("\n"+r),a.b("</div>\r"),a.b("\n"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/details-dialog.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div id="details-dialog" class="modal fade details-dialog" tabindex="-1">\r'),a.b("\n"+r),a.b('  <div class="modal-dialog">\r'),a.b("\n"+r),a.b('    <div class="modal-content">\r'),a.b("\n"+r),a.b('      <div class="modal-body">\r'),a.b("\n"+r),a.b("        <p>Loading Details...</p>\r"),a.b("\n"+r),a.b("        <progress></progress>\r"),a.b("\n"+r),a.b("      </div>\r"),a.b("\n"+r),a.b("    </div><!-- /.modal-content -->\r"),a.b("\n"+r),a.b("  </div><!-- /.modal-dialog -->\r"),a.b("\n"+r),a.b("</div><!-- /.modal -->"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/about-dialog.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div class="modal fade" id="about-dialog" tabindex="-1" role="dialog" aria-label="'),a.b(a.t(a.d("strings.about",e,n,0))),a.b('" aria-hidden="true">\r'),a.b("\n"+r),a.b('  <div class="modal-dialog">\r'),a.b("\n"+r),a.b('    <div class="modal-content">\r'),a.b("\n"+r),a.b('      <div class="modal-body">\r'),a.b("\n"+r),a.b('      	<div class="splash-logo">\r'),a.b("\n"+r),a.b('      		<img src="'),a.b(a.t(a.f("imagePathPrefix",e,n,0))),a.b('images/about_readium_logo.png" alt="">\r'),a.b("\n"+r),a.b("      	</div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('      	<div class="about-message">\r'),a.b("\n"+r),a.b("	      	<span>"),a.b(a.t(a.d("strings.i18n_html_readium_tm_a_project",e,n,0))),a.b("</span>\r"),a.b("\n"+r),a.b("      	</div>\r"),a.b("\n"+r),a.b("      	<div>\r"),a.b("\n"+r),a.b('			     <img src="'),a.b(a.t(a.f("imagePathPrefix",e,n,0))),a.b('images/partner_logos.png">\r'),a.b("\n"+r),a.b("		    </div>\r"),a.b("\n"+r),a.b('        <h4 style="color:#111155">'),a.b(a.t(a.d("strings.gethelp",e,n,0))),a.b("</h4>\r"),a.b("\n"+r),a.b('        <div class="version">'),a.b(a.v(a.d("viewer.chromeVersion",e,n,0))),a.b("</div>\r"),a.b("\n"+r),a.b('        <div class="build-date">'),a.b(a.v(a.d("viewer.dateTimeString",e,n,0))),a.b("</div>\r"),a.b("\n"+r),a.b('        <div class="version-details">\r'),a.b("\n"+r),a.b('        <div><a target="_blank" href="https://github.com/readium/readium-js-viewer/tree/'),a.b(a.v(a.d("viewer.sha",e,n,0))),a.b('">readium-js-viewer@'),a.b(a.v(a.d("viewer.sha",e,n,0))),a.b("</a>"),a.s(a.d("viewer.clean",e,n,1),e,n,1,0,0,"")||a.b('<span class="local-changes-alert">(with local changes)</span>'),a.b("</div>\r"),a.b("\n"+r),a.b('          <div><a target="_blank" href="https://github.com/readium/readium-js/tree/'),a.b(a.v(a.d("readium.sha",e,n,0))),a.b('">readium-js@'),a.b(a.v(a.d("readium.sha",e,n,0))),a.b("</a>"),a.s(a.d("readium.clean",e,n,1),e,n,1,0,0,"")||a.b('<span class="local-changes-alert">(with local changes)</span>'),a.b("</div>\r"),a.b("\n"+r),a.b('          <div><a target="_blank" href="https://github.com/readium/readium-shared-js/tree/'),a.b(a.v(a.d("sharedJs.sha",e,n,0))),a.b('">readium-shared-js@'),a.b(a.v(a.d("sharedJs.sha",e,n,0))),a.b("</a>"),a.s(a.d("sharedJs.clean",e,n,1),e,n,1,0,0,"")||a.b('<span class="local-changes-alert">(with local changes)</span>'),a.b("</div>\r"),a.b("\n"+r),a.b('          <div><a target="_blank" href="https://github.com/readium/readium-cfi-js/tree/'),a.b(a.v(a.d("cfiJs.sha",e,n,0))),a.b('">readium-cfi-js@'),a.b(a.v(a.d("cfiJs.sha",e,n,0))),a.b("</a>"),a.s(a.d("cfiJs.clean",e,n,1),e,n,1,0,0,"")||a.b('<span class="local-changes-alert">(with local changes)</span>'),a.b("</div>\r"),a.b("\n"+r),a.b("        </div>\r"),a.b("\n"+r),a.b("      </div>\r"),a.b("\n"+r),a.b("    </div><!-- /.modal-content -->\r"),a.b("\n"+r),a.b("  </div><!-- /.modal-dialog -->\r"),a.b("\n"+r),a.b("</div><!-- /.modal -->\r"),a.b("\n"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/details-body.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div class="details-body">\r'),a.b("\n"+r),a.b('    <button type="button" class="close" data-dismiss="modal"  tabindex="1000" title="'),a.b(a.v(a.d("strings.i18n_close",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_details",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_close",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_details",e,n,0))),a.b('"><span aria-hidden="true">&times;</span></button>\r'),a.b("\n"+r),a.b('    <div class="offscreenText">Details Start</div>\r'),a.b("\n"+r),a.b('    <div class="modal-cover-wrap">\r'),a.b("\n"+r),a.s(a.d("data.coverHref",e,n,1),e,n,0,388,500,"{{ }}")&&(a.rs(e,n,function(e,n,a){a.b('        <img class="details-cover-image img-responsive" src="'),a.b(a.v(a.d("data.coverHref",e,n,0))),a.b('" alt="ePUB cover">\r'),a.b("\n"+r)}),e.pop()),a.s(a.d("data.coverHref",e,n,1),e,n,1,0,0,"")||(a.b('        <div class="no-cover" style="background-image: url(\''),a.b(a.v(a.d("data.noCoverBackground",e,n,0))),a.b("')\"><p>"),a.b(a.v(a.d("data.title",e,n,0))),a.b("</p></div>\r"),a.b("\n"+r)),a.b('        <div class="buttons">\r'),a.b("\n"+r),a.b('            <button tabindex="1000" class="btn btn-default read" data-dismiss="modal" data-book="'),a.b(a.v(a.d("data.rootUrl",e,n,0))),a.b('" type="button">'),a.b(a.v(a.d("strings.i18n_read",e,n,0))),a.b("</button>\r"),a.b("\n"+r),a.b('            <button tabindex="1000" class="btn btn-danger delete" data-dismiss="modal" type="button">'),a.b(a.v(a.d("strings.i18n_delete",e,n,0))),a.b("</button>\r"),a.b("\n"+r),a.b("        </div>\r"),a.b("\n"+r),a.b("    </div>\r"),a.b("\n"+r),a.b("    <div class='modal-book-info'>\r"),a.b("\n"+r),a.b("        <h3 class='modal-title'>"),a.b(a.v(a.d("data.title",e,n,0))),a.b("</h3>\r"),a.b("\n"+r),a.b("        <div class='modal-detail'>"),a.b(a.v(a.d("strings.i18n_author",e,n,0))),a.b(a.v(a.d("data.author",e,n,0))),a.b("</div>\r"),a.b("\n"+r),a.b("        <div class='modal-detail'>"),a.b(a.v(a.d("strings.i18n_publisher",e,n,0))),a.b(a.v(a.d("data.publisher",e,n,0))),a.b("</div>\r"),a.b("\n"+r),a.b("        <div class='modal-detail'>"),a.b(a.v(a.d("strings.i18n_pub_date",e,n,0))),a.b(a.v(a.d("data.pubdate",e,n,0))),a.b("</div>\r"),a.b("\n"+r),a.b("        <div class='modal-detail'>"),a.b(a.v(a.d("strings.i18n_modified_date",e,n,0))),a.b(a.v(a.d("data.modified_date",e,n,0))),a.b("</div>\r"),a.b("\n"+r),a.b("        <div class='modal-detail'>"),a.b(a.v(a.d("strings.i18n_id",e,n,0))),a.b(a.v(a.d("data.id",e,n,0))),a.b("</div>\r"),a.b("\n"+r),a.b("        <div class='modal-detail'>"),a.b(a.v(a.d("strings.i18n_epub_version",e,n,0))),a.b(a.v(a.d("data.epub_version",e,n,0))),a.b("</div>        \r"),a.b("\n"+r),a.b("    </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('    <div class="offscreenText">Details End</div>\r'),a.b("\n"+r),a.b("</div>"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/add-epub-dialog.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div class="modal fade" id="add-epub-dialog" tabindex="-1" role="dialog" aria-labelledby="add-epub-label" aria-hidden="true">\r'),a.b("\n"+r),a.b('    <div class="modal-dialog">\r'),a.b("\n"+r),a.b('        <div class="modal-content">\r'),a.b("\n"+r),a.b('            <div class="modal-header">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                <button id="closeAddEpubCross" type="button" class="close" data-dismiss="modal" tabindex="999" title="'),a.b(a.v(a.d("strings.i18n_close",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_add_book",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_close",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_add_book",e,n,0))),a.b('"><span aria-hidden="true">&times;</span></button>\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                <h4 class="modal-title" id="add-epub-label">'),a.b(a.v(a.d("strings.i18n_add_book",e,n,0))),a.b("</h4>\r"),a.b("\n"+r),a.b("            </div>\r"),a.b("\n"+r),a.b('            <div class="modal-body">\r'),a.b("\n"+r),a.b('                <form class="form-horizontal" role="form">\r'),a.b("\n"+r),a.s(a.f("canHandleUrl",e,n,1),e,n,0,763,1190,"{{ }}")&&(a.rs(e,n,function(e,n,a){a.b('                <div class="form-group">\r'),a.b("\n"+r),a.b('                    <label id="add1" class="control-label col-sm-5">'),a.b(a.v(a.d("strings.i18n_from_the_web",e,n,0))),a.b("</label>\r"),a.b("\n"+r),a.b('                    <div class="col-sm-7">\r'),a.b("\n"+r),a.b('                        <input tabindex="1000" type="text" id="url-upload" class="form-control" placeholder="'),a.b(a.v(a.d("strings.i18n_enter_a_url",e,n,0))),a.b('" aria-labelledby="add1">\r'),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b("                </div>\r"),a.b("\n"+r)}),e.pop()),a.b('                <div id="epub-upload-div" class="form-group">\r'),a.b("\n"+r),a.b('                    <label id="add2" class="control-label col-sm-5">'),a.b(a.v(a.d("strings.i18n_from_local_file",e,n,0))),a.b("</label>\r"),a.b("\n"+r),a.b('                    <div class="col-sm-7">\r'),a.b("\n"+r),a.b('                        <input tabindex="1000" type="file" id="epub-upload" class="form-control" aria-labelledby="add2" role="button">\r'),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b("                </div>\r"),a.b("\n"+r),a.s(a.f("canHandleDirectory",e,n,1),e,n,0,1653,2106,"{{ }}")&&(a.rs(e,n,function(e,n,a){a.b('                <div class="form-group">\r'),a.b("\n"+r),a.b('                    <label id="add3" class="control-label col-sm-5">'),a.b(a.v(a.d("strings.i18n_unpacked_directory",e,n,0))),a.b("</label>\r"),a.b("\n"+r),a.b('                    <div class="col-sm-7">\r'),a.b("\n"+r),a.b('                        <input tabindex="1000" type="file" id="dir-upload" webkitdirectory="" mozdirectory="" directory="" class="form-control" aria-labelledby="add3"  role="button">\r'),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b("                </div>\r"),a.b("\n"+r)}),e.pop()),a.b("                </form>\r"),a.b("\n"+r),a.b("            </div>\r"),a.b("\n"+r),a.b('            <div class="modal-footer">\r'),a.b("\n"+r),a.b('                <button tabindex="1000" type="button" class="btn btn-default add-book" data-dismiss="modal" disabled="disabled">'),a.b(a.v(a.d("strings.i18n_add_book",e,n,0))),a.b("</button>\r"),a.b("\n"+r),a.b('                <button tabindex="1000" type="button" class="btn btn-primary" data-dismiss="modal">'),a.b(a.v(a.d("strings.i18n_cancel",e,n,0))),a.b("</button>\r"),a.b("\n"+r),a.b("            </div>\r"),a.b("\n"+r),a.b("        </div>\r"),a.b("\n"+r),a.b("        <!-- /.modal-content --> \r"),a.b("\n"+r),a.b("    </div><!-- /.modal-dialog -->\r"),a.b("\n"+r),a.b("</div>\r"),a.b("\n"+r),a.b("<!-- /.modal -->"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/settings-dialog.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div tabindex="-1" class="modal fade" id="settings-dialog" role="dialog" aria-label="'),a.b(a.v(a.d("strings.settings",e,n,0))),a.b('" aria-hidden="true">\r'),a.b("\n"+r),a.b('    <div class="modal-dialog">\r'),a.b("\n"+r),a.b('        <div class="modal-content">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('           <!-- div class="modal-header">\r'),a.b("\n"+r),a.b('            <h4 class="modal-title" id="settings-label">'),a.b(a.v(a.d("strings.settings",e,n,0))),a.b("</h4>\r"),a.b("\n"+r),a.b("           </div -->\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('            <div class="modal-body">\r'),a.b("\n"+r),a.b('           <button type="button" class="close" id="closeSettingsCross" data-dismiss="modal" title="'),a.b(a.v(a.d("strings.i18n_close",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.settings",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_close",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.settings",e,n,0))),a.b('"><span aria-hidden="true">&times;</span></button>\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('           <ul class="nav nav-tabs" role="tablist" aria-owns="tab-butt-style tab-butt-layout tab-butt-keys">\r'),a.b("\n"+r),a.b('             <li class="active" role="presentation"><button id="tab-butt-style"  title="'),a.b(a.v(a.d("strings.style",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.style",e,n,0))),a.b('" role=\'tab\' aria-controls="tab-style" data-toggle="tab" data-target="#tab-style">'),a.b(a.v(a.d("strings.style",e,n,0))),a.b("</button></li>\r"),a.b("\n"+r),a.b('             <li role="presentation"><button id="tab-butt-layout"  title="'),a.b(a.v(a.d("strings.layout",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.layout",e,n,0))),a.b('" role=\'tab\' aria-controls="tab-layout" data-toggle="tab" data-target="#tab-layout">'),a.b(a.v(a.d("strings.layout",e,n,0))),a.b("</button></li>\r"),a.b("\n"+r),a.b('             <li role="presentation"><button id="tab-butt-keys"  title="'),a.b(a.v(a.d("strings.i18n_keyboard_shortcuts",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_keyboard_shortcuts",e,n,0))),a.b('" role=\'tab\' aria-controls="tab-keyboard" data-toggle="tab" data-target="#tab-keyboard">'),a.b(a.v(a.d("strings.i18n_keyboard_shortcuts",e,n,0))),a.b("</button></li>\r"),a.b("\n"+r),a.b("           </ul>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('           <div class="tab-content">\r'),a.b("\n"+r),a.b('                <div id="tab-style" class="tab-pane active" role="tabpanel" aria-expanded="true">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                <h5 aria-hidden="true">'),a.b(a.v(a.d("strings.preview",e,n,0))),a.b("</h5>\r"),a.b("\n"+r),a.b('                <div  aria-hidden="true" class="row">\r'),a.b("\n"+r),a.b('                    <div data-theme="default-theme" class="col-xs-10 col-xs-offset-1 preview-text default-theme">\r'),a.b("\n"+r),a.b("                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus neque dui, congue a suscipit non, feugiat eu urna. Cras in felis sed orci aliquam sagittis.\r"),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b("                </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('<!-- button  type="button" title="TESTING" aria-label="TESTING">TESTING DANIEL</button -->\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                    <h5 id="setting-header-font-size" class="setting-header">'),a.b(a.v(a.d("strings.i18n_font_size",e,n,0))),a.b("</h5>\r"),a.b("\n"+r),a.b('                    <div class="row">\r'),a.b("\n"+r),a.b('                        <div class="col-xs-2 icon-scale-down">\r'),a.b("\n"+r),a.b('                            <img src="'),a.b(a.t(a.f("imagePathPrefix",e,n,0))),a.b('images/glyphicons_115_text_smaller.png" alt="" aria-hidden="true">\r'),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b('                        <div class="col-xs-8">\r'),a.b("\n"+r),a.b('                            <input  type="range" role="slider" aria-labelledby="setting-header-font-size" id="font-size-input" min="60" aria-value-min="60" aria-valuemin="60" step="10" max="170" aria-value-max="170" aria-valuemax="170" value="100" aria-valuenow="100" aria-value-now="100" aria-valuetext="1em" aria-value-text="1em" title="'),a.b(a.v(a.d("strings.i18n_font_size",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_font_size",e,n,0))),a.b('" />\r'),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b('                        <div class="col-xs-2">\r'),a.b("\n"+r),a.b('                            <img src="'),a.b(a.t(a.f("imagePathPrefix",e,n,0))),a.b('images/glyphicons_116_text_bigger.png" alt="" aria-hidden="true">\r'),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                    <h5 id="setting-header-color-legend" class="setting-header">'),a.b(a.v(a.d("strings.i18n_text_and_background_color",e,n,0))),a.b("</h5>\r"),a.b("\n"+r),a.b('                    <div role="group" aria-labelledby="setting-header-color-legend" id="theme-radio-group" class="row">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <button role="button" data-theme="author-theme"  title="'),a.b(a.v(a.d("strings.i18n_author_theme",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_author_theme",e,n,0))),a.b('" class="col-xs-8 col-xs-offset-2 theme-option author-theme clickable">'),a.b(a.v(a.d("strings.i18n_author_theme",e,n,0))),a.b("</button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <button role="button" data-theme="default-theme"  title="'),a.b(a.v(a.d("strings.i18n_black_and_white",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_black_and_white",e,n,0))),a.b('" class="col-xs-8 col-xs-offset-2 theme-option default-theme clickable">'),a.b(a.v(a.d("strings.i18n_black_and_white",e,n,0))),a.b("</button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <button role="button" data-theme="night-theme"  title="'),a.b(a.v(a.d("strings.i18n_arabian_nights",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.NightTheme",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.i18n_arabian_nights",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.NightTheme",e,n,0))),a.b(']" class="col-xs-8 col-xs-offset-2 theme-option night-theme clickable" >'),a.b(a.v(a.d("strings.i18n_arabian_nights",e,n,0))),a.b('</button> <!-- accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.NightTheme",e,n,0))),a.b('" -->\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <button role="button" data-theme="parchment-theme"  title="'),a.b(a.v(a.d("strings.i18n_sands_of_dune",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_sands_of_dune",e,n,0))),a.b('" class="col-xs-8 col-xs-offset-2 theme-option parchment-theme clickable">'),a.b(a.v(a.d("strings.i18n_sands_of_dune",e,n,0))),a.b("</button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <button role="button" data-theme="ballard-theme"  title="'),a.b(a.v(a.d("strings.i18n_ballard_blues",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_ballard_blues",e,n,0))),a.b('" class="col-xs-8 col-xs-offset-2 theme-option ballard-theme clickable">'),a.b(a.v(a.d("strings.i18n_ballard_blues",e,n,0))),a.b("</button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <button role="button" data-theme="vancouver-theme"  title="'),a.b(a.v(a.d("strings.i18n_vancouver_mist",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_vancouver_mist",e,n,0))),a.b('" class="col-xs-8 col-xs-offset-2 theme-option vancouver-theme clickable">'),a.b(a.v(a.d("strings.i18n_vancouver_mist",e,n,0))),a.b("</button>\r"),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b("                </div>\r"),a.b("\n"+r),a.b('                <div id="tab-layout" class="tab-pane" role="tabpanel">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                    <h5 id="setting-header-margins-legend" class="setting-header">'),a.b(a.v(a.d("strings.i18n_margins",e,n,0))),a.b("</h5>\r"),a.b("\n"+r),a.b('                     <div class="row">\r'),a.b("\n"+r),a.b('                        <div class="col-xs-2 icon-scale-down">\r'),a.b("\n"+r),a.b('                            <img style="height: 32px;" src="'),a.b(a.t(a.f("imagePathPrefix",e,n,0))),a.b('images/margin1_off.png" alt="" aria-hidden="true">\r'),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b('                        <div class="col-xs-8">\r'),a.b("\n"+r),a.b('                            <input  type="range" role="slider" aria-labelledby="setting-header-margins-legend" id="margin-size-input" min="20" aria-value-min="20" aria-valuemin="20" step="20" max="100" aria-value-max="100" aria-valuemax="100" value="20" aria-valuenow="20" aria-value-now="20" aria-valuetext="20" aria-value-text="20" title="'),a.b(a.v(a.d("strings.i18n_margins",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_margins",e,n,0))),a.b('"/>\r'),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b('                        <div class="col-xs-2">\r'),a.b("\n"+r),a.b('                            <img style="height: 32px;" src="'),a.b(a.t(a.f("imagePathPrefix",e,n,0))),a.b('images/margin4_off.png" alt="" aria-hidden="true">\r'),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                    <h5 id="setting-header-display-legend" class="setting-header">'),a.b(a.v(a.d("strings.i18n_display_format",e,n,0))),a.b("</h5>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                    <div role="radiogroup" class="row" style="width:100%;text-align:center;" aria-labelledby="setting-header-display-legend">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <div role="radio" id="spread-default-option"\r'),a.b("\n"+r),a.b('                        style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'),a.b("\n"+r),a.b('                            <input style=""  name="display-format" value="single" type="radio" id="spread-default-radio"/>\r'),a.b("\n"+r),a.b('                            <label style="" for="spread-default-radio" class="underlinedLabel">\r'),a.b("\n"+r),a.b("                                "),a.b(a.v(a.d("strings.i18n_spread_auto",e,n,0))),a.b("\r"),a.b("\n"+r),a.b("                            </label>\r"),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <div role="radio" id="one-up-option"\r'),a.b("\n"+r),a.b('                        style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                            <input  name="display-format" value="single" type="radio" id="single-page-radio" />\r'),a.b("\n"+r),a.b('                                            <label for="single-page-radio" class="underlinedLabel">\r'),a.b("\n"+r),a.b('                                            <img src="'),a.b(a.t(a.f("imagePathPrefix",e,n,0))),a.b('images/ico_singlepage_up.png" alt="'),a.b(a.v(a.d("strings.i18n_display_format",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_single_pages",e,n,0))),a.b('"/>\r'),a.b("\n"+r),a.b("                                            </label>\r"),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b('                        <div role="radio" id="two-up-option"\r'),a.b("\n"+r),a.b('                        style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                                <input  name="display-format" value="double" type="radio" id="double-page-radio" />\r'),a.b("\n"+r),a.b('                                            <label for="double-page-radio" class="underlinedLabel">\r'),a.b("\n"+r),a.b('                                            <img src="'),a.b(a.t(a.f("imagePathPrefix",e,n,0))),a.b('images/ico_doublepage_up.png" alt="'),a.b(a.v(a.d("strings.i18n_display_format",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_double_pages",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b("                                            </label>\r"),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                    <h5 id="setting-header-scroll-legend" class="setting-header">'),a.b(a.v(a.d("strings.i18n_scroll_mode",e,n,0))),a.b("</h5>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                    <div role="radiogroup" class="row" style="width:100%;text-align:center;" aria-labelledby="setting-header-scroll-legend">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <div role="radio" id="scroll-default-option" style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'),a.b("\n"+r),a.b('                            <input style=""  name="scrolling" value="single" type="radio" id="scroll-default-radio"/>\r'),a.b("\n"+r),a.b('                            <label style="" for="scroll-default-radio" class="underlinedLabel">\r'),a.b("\n"+r),a.b("                                "),a.b(a.v(a.d("strings.i18n_scroll_mode_auto",e,n,0))),a.b("\r"),a.b("\n"+r),a.b("                            </label>\r"),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <div role="radio" id="scroll-doc-option" style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'),a.b("\n"+r),a.b('                            <input style=""  name="scrolling" value="single" type="radio" id="scroll-doc-radio"/>\r'),a.b("\n"+r),a.b('                            <label style="" for="scroll-doc-radio" class="underlinedLabel">\r'),a.b("\n"+r),a.b('                                <span style="font-size:150%;color:#888888;" class="glyphicon glyphicon-file" aria-hidden="true"></span> '),a.b(a.v(a.d("strings.i18n_scroll_mode_doc",e,n,0))),a.b("\r"),a.b("\n"+r),a.b("                            </label>\r"),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <div role="radio" id="scroll-continuous-option" style="vertical-align:middle;width:30%;display:inline-block;position:relative;">\r'),a.b("\n"+r),a.b('                            <input style=""  name="scrolling" value="single" type="radio" id="scroll-continuous-radio"/>\r'),a.b("\n"+r),a.b('                            <label style="" for="scroll-continuous-radio" class="underlinedLabel">\r'),a.b("\n"+r),a.b('                                <span style="font-size:150%;color:#888888;" class="glyphicon glyphicon-road" aria-hidden="true"></span> '),a.b(a.v(a.d("strings.i18n_scroll_mode_continuous",e,n,0))),a.b("\r"),a.b("\n"+r),a.b("                            </label>\r"),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                    <h5 hiddenx="hidden" id="setting-header-pageTransition-legend" class="setting-header">'),a.b(a.v(a.d("strings.i18n_page_transition",e,n,0))),a.b("</h5>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                    <div hiddenx="hidden" role="radiogroup" class="row" style="width:100%;text-align:center;" aria-labelledby="setting-header-pageTransition-legend">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <div role="radio" id="pageTransition-none-option" style="vertical-align:middle;width:15%;display:inline-block;position:relative;">\r'),a.b("\n"+r),a.b('                            <input style=""  name="pageTransition" value="single" type="radio" id="pageTransition-none-radio"/>\r'),a.b("\n"+r),a.b('                            <label style="" for="pageTransition-none-radio" class="underlinedLabel">\r'),a.b("\n"+r),a.b("                                "),a.b(a.v(a.d("strings.i18n_page_transition_none",e,n,0))),a.b("\r"),a.b("\n"+r),a.b("                            </label>\r"),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <div role="radio" id="pageTransition-1-option" style="vertical-align:middle;width:15%;display:inline-block;position:relative;">\r'),a.b("\n"+r),a.b('                            <input style=""  name="pageTransition" value="single" type="radio" id="pageTransition-1-radio"/>\r'),a.b("\n"+r),a.b('                            <label style="" for="pageTransition-1-radio" class="underlinedLabel">\r'),a.b("\n"+r),a.b("                                "),a.b(a.v(a.d("strings.i18n_page_transition_fade",e,n,0))),a.b("\r"),a.b("\n"+r),a.b("                            </label>\r"),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <div role="radio" id="pageTransition-2-option" style="vertical-align:middle;width:15%;display:inline-block;position:relative;">\r'),a.b("\n"+r),a.b('                            <input style=""  name="pageTransition" value="single" type="radio" id="pageTransition-2-radio"/>\r'),a.b("\n"+r),a.b('                            <label style="" for="pageTransition-2-radio" class="underlinedLabel">\r'),a.b("\n"+r),a.b("                                "),a.b(a.v(a.d("strings.i18n_page_transition_slide",e,n,0))),a.b("\r"),a.b("\n"+r),a.b("                            </label>\r"),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <div role="radio" id="pageTransition-3-option" style="vertical-align:middle;width:15%;display:inline-block;position:relative;">\r'),a.b("\n"+r),a.b('                            <input style=""  name="pageTransition" value="single" type="radio" id="pageTransition-3-radio"/>\r'),a.b("\n"+r),a.b('                            <label style="" for="pageTransition-3-radio" class="underlinedLabel">\r'),a.b("\n"+r),a.b("                                "),a.b(a.v(a.d("strings.i18n_page_transition_swoosh",e,n,0))),a.b("\r"),a.b("\n"+r),a.b("                            </label>\r"),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <div role="radio" id="pageTransition-4-option" style="vertical-align:middle;width:15%;display:inline-block;position:relative;">\r'),a.b("\n"+r),a.b('                            <input style=""  name="pageTransition" value="single" type="radio" id="pageTransition-4-radio"/>\r'),a.b("\n"+r),a.b('                            <label style="" for="pageTransition-4-radio" class="underlinedLabel">\r'),a.b("\n"+r),a.b("                                "),a.b(a.v(a.d("strings.i18n_page_transition_butterfly",e,n,0))),a.b("\r"),a.b("\n"+r),a.b("                            </label>\r"),a.b("\n"+r),a.b("                        </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b('                    <div id="tab-keyboard" class="tab-pane" role="tabpanel">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                    <div class="row" style="position:relative;">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <div id="invalid_keyboard_shortcut_ALERT"></div>\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                        <ul id="keyboard-list">\r'),a.b("\n"+r),a.b("                        </ul>\r"),a.b("\n"+r),a.b("                    </div>\r"),a.b("\n"+r),a.b("                     </div>\r"),a.b("\n"+r),a.b("                </div>\r"),a.b("\n"+r),a.b("            </div>\r"),a.b("\n"+r),a.b('            <div class="modal-footer">\r'),a.b("\n"+r),a.b('                <button id="buttClose"  type="button" class="btn btn-default" data-dismiss="modal" title="'),a.b(a.v(a.d("strings.i18n_close",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.SettingsModalClose",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.i18n_close",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.SettingsModalClose",e,n,0))),a.b(']">'),a.b(a.v(a.d("strings.i18n_close",e,n,0))),a.b("</button>\r"),a.b("\n"+r),a.b('                <button id="buttSave"  type="button" class="btn btn-primary" data-dismiss="modal" title="'),a.b(a.v(a.d("strings.i18n_save_changes",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.SettingsModalSave",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.i18n_save_changes",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.SettingsModalSave",e,n,0))),a.b(']">'),a.b(a.v(a.d("strings.i18n_save_changes",e,n,0))),a.b("</button>\r"),a.b("\n"+r),a.b("            </div>\r"),a.b("\n"+r),a.b("        </div>\r"),a.b("\n"+r),a.b("        <!-- /.modal-content -->\r"),a.b("\n"+r),a.b("    </div>\r"),a.b("\n"+r),a.b("    <!-- /.modal-dialog -->\r"),a.b("\n"+r),a.b("</div>\r"),a.b("\n"),a.fl()
},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/settings-keyboard-item.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.s(a.f("name",e,n,1),e,n,0,9,747,"{{ }}")&&(a.rs(e,n,function(e,n,a){a.b("<li>\r"),a.b("\n"+r),a.b('<label id="label_'),a.b(a.v(a.f("name",e,n,0))),a.b('">'),a.b(a.v(a.f("i18n",e,n,0))),a.b("<br/><span>"),a.b(a.v(a.f("name",e,n,0))),a.b("</span></label>\r"),a.b("\n"+r),a.b('<input id="'),a.b(a.v(a.f("name",e,n,0))),a.b('" name="'),a.b(a.v(a.f("name",e,n,0))),a.b('" class="keyboardInput" type="text"  placeholder="'),a.b(a.v(a.f("shortcut",e,n,0))),a.b('" value="'),a.b(a.v(a.f("shortcut",e,n,0))),a.b('" aria-labelledbyxxx="label_'),a.b(a.v(a.f("name",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.f("i18n",e,n,0))),a.b('" title="'),a.b(a.v(a.f("i18n",e,n,0))),a.b('"></input>\r'),a.b("\n"+r),a.b('<button class="resetKey captureKeyboardShortcut" role="button" data-key="'),a.b(a.v(a.f("name",e,n,0))),a.b('"  title="'),a.b(a.v(a.d("strings.i18n_reset_key",e,n,0))),a.b(" ("),a.b(a.v(a.f("def",e,n,0))),a.b(')" aria-label="'),a.b(a.v(a.d("strings.i18n_reset_key",e,n,0))),a.b(" ("),a.b(a.v(a.f("def",e,n,0))),a.b(')"><span aria-hidden="true">&#8855;</span></button>\r'),a.b("\n"+r),a.b('<span id="duplicate_keyboard_shortcut" aria-hidden="true">'),a.b(a.v(a.d("strings.i18n_duplicate_keyboard_shortcut",e,n,0))),a.b("</span>\r"),a.b("\n"+r),a.b('<span id="invalid_keyboard_shortcut" aria-hidden="true">'),a.b(a.v(a.d("strings.i18n_invalid_keyboard_shortcut",e,n,0))),a.b("</span>\r"),a.b("\n"+r),a.b("</li>\r"),a.b("\n"+r)}),e.pop()),a.s(a.f("name",e,n,1),e,n,1,0,0,"")||(a.b('<li id="resetAllKeys'),a.b(a.v(a.f("id",e,n,0))),a.b('" class="resetAllKeys">\r'),a.b("\n"+r),a.b('<button class="resetKey" role="button"  title="'),a.b(a.v(a.d("strings.i18n_reset_key_all",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_reset_key_all",e,n,0))),a.b('"><span aria-hidden="true">'),a.b(a.v(a.d("strings.i18n_reset_key_all",e,n,0))),a.b("  &#8855;</span></button>\r"),a.b("\n"+r),a.b("</li>\r"),a.b("\n"+r)),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/managed-dialog.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div class="modal fade" id="managed-dialog" tabindex="-1" role="dialog" aria-labelledby="managed-label">\r'),a.b("\n"+r),a.b('    <div class="modal-dialog">\r'),a.b("\n"+r),a.b('        <div class="modal-content">\r'),a.b("\n"+r),a.b('            <div class="modal-header">\r'),a.b("\n"+r),a.b('                <button type="button" class="close" data-dismiss="modal" aria-label="close" title="close"><span aria-hidden="true">&times;<span></button>\r'),a.b("\n"+r),a.b('                <h4 class="modal-title" id="managed-label"></h4>\r'),a.b("\n"+r),a.b("            </div>\r"),a.b("\n"+r),a.b('            <div class="modal-body">\r'),a.b("\n"+r),a.b("            </div>\r"),a.b("\n"+r),a.b('            <div class="modal-footer">\r'),a.b("\n"+r),a.b("            </div>\r"),a.b("\n"+r),a.b("        </div>\r"),a.b("\n"+r),a.b("        <!-- /.modal-content --> \r"),a.b("\n"+r),a.b("    </div><!-- /.modal-dialog -->\r"),a.b("\n"+r),a.b("</div>\r"),a.b("\n"+r),a.b("<!-- /.modal -->"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/progress-dialog.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div class="progress progress-striped active">\r'),a.b("\n"+r),a.b('  <div class="progress-bar"  role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="100" style="width: 1%">\r'),a.b("\n"+r),a.b('    <!-- <span class="progress-message sr-only">'),a.b(a.v(a.f("message",e,n,0))),a.b("</span> -->\r"),a.b("\n"+r),a.b("  </div>\r"),a.b("\n"+r),a.b("</div>\r"),a.b("\n"+r),a.b('<div class="progress-message">'),a.b(a.v(a.f("message",e,n,0))),a.b("</div>\r"),a.b("\n"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/managed-buttons.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.s(a.f("buttons",e,n,1),e,n,0,12,157,"{{ }}")&&(a.rs(e,n,function(e,n,a){a.b('<button type="button" class="btn btn-default '),a.s(a.f("classes",e,n,1),e,n,0,71,77,"{{ }}")&&(a.rs(e,n,function(e,n,r){r.b(r.v(r.d(".",e,n,0))),r.b(" ")}),e.pop()),a.b('" '),a.s(a.f("dismiss",e,n,1),e,n,0,103,125,"{{ }}")&&(a.rs(e,n,function(e,n,r){r.b(' data-dismiss="modal" ')}),e.pop()),a.b(">"),a.b(a.v(a.f("text",e,n,0))),a.b("</button>\r"),a.b("\n"+r)}),e.pop()),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("readium_js_viewer/Dialogs",["hgn!readium_js_viewer_html_templates/managed-dialog.html","hgn!readium_js_viewer_html_templates/progress-dialog.html","hgn!readium_js_viewer_html_templates/managed-buttons.html","i18nStrings","./workers/Messages"],function(e,n,r,a,i){var t,s,o=function(){t&&t.modal("hide")},d=function(n,r,a,i){t||(t=$(e({})),$("#app-container").append(t)),$("#managed-label").text(r),$("#managed-dialog .modal-body").empty().append(a),$("#managed-dialog .modal-footer").empty().append(i),n?$("#managed-dialog .close").show():$("#managed-dialog .close").hide(),t.is(":hidden")&&$("#managed-dialog").modal("show")};return Dialogs={showError:function(e){var n=a.err_unknown;switch(e){case i.ERROR_STORAGE:n=a.err_storage;break;case i.ERROR_EPUB:n=a.err_epub_corrupt;break;case i.ERROR_AJAX:n=a.err_ajax;break;default:n=a.err_unknown,console.trace()}Dialogs.showModalMessage(a.err_dlg_title,n)},showModalMessage:function(e,n){var i=$("<p></p>").text(n),t=r({buttons:[{dismiss:!0,text:a.ok}]});d(!0,e,i,t)},showModalPromptEx:function(e,n,a,i){var t=$("<p></p>").text(n),s=r({buttons:a});d(!1,e,t,s);for(var o=0;o<i.length;o++)i[o]&&$("#managed-dialog ."+a[o].classes[0]).on("click",i[o])},showModalPrompt:function(e,n,r,a,i,t){var s=[{dismiss:!0,text:a,classes:["no-button"]},{dismiss:!0,text:r,classes:["yes-button","btn-primary"]}];handlers=[t,i],Dialogs.showModalPromptEx(e,n,s,handlers)},showReplaceConfirm:function(e,n,r,a,i,t,s,o){var d=[{dismiss:!0,text:a,classes:["no-button"]},{dismiss:!0,text:r,classes:["yes-button","btn-danger"]},{dismiss:!0,text:i,classes:["keep-both-button","btn-primary"]}];handlers=[s,t,o],Dialogs.showModalPromptEx(e,n,d,handlers)},showModalProgress:function(e,r){var a={message:r};s=e,d(!1,e,n(a),"")},updateProgress:function(e,n,r){var t="";switch(n){case i.PROGRESS_MIGRATING:t=a.migrating+" "+r;break;case i.PROGRESS_EXTRACTING:t=a.i18n_extracting+" "+r;break;case i.PROGRESS_WRITING:t=a.storing_file+" "+r;break;case i.PROGRESS_DELETING:t=a.delete_progress_message+" "+r}$("#managed-dialog .progress-bar").attr("aria-valuenow",e).css("width",e+"%"),$("#managed-dialog .progress-message").text(t)},closeModal:function(){o()},reset:function(){t&&(t.remove(),t=null)}},Dialogs}),define("readium_js_viewer/Keyboard",["i18nStrings","keymaster","Settings"],function(e,n){var r={};void function(){function e(e,s){var o;o=document.createEvent(r?"KeyboardEvent":"Event");var d,l={};for(d in a)i(a,d)&&(l[d]=(i(s,d)&&s||a)[d]);var b=l.ctrlKey,u=l.shiftKey,c=l.altKey,g=l.metaKey,m=l.altGraphKey,_=r>3?((b?"Control":"")+(u?" Shift":"")+(c?" Alt":"")+(g?" Meta":"")+(m?" AltGraph":"")).trim():null,p=l.key+"",v=l["char"]+"",h=l.location,y=l.keyCode||(l.keyCode=p&&p.charCodeAt(0)||0),f=l.charCode||(l.charCode=v&&v.charCodeAt(0)||0),k=l.bubbles,w=l.cancelable,S=l.repeat,P=l.locale,x=n;l.which||(l.which=l.keyCode),"initKeyEvent"in o?o.initKeyEvent(e,k,w,x,b,c,u,g,y,f):r&&"initKeyboardEvent"in o?1==r?o.initKeyboardEvent(e,k,w,x,p,h,b,u,c,g,m):2==r?o.initKeyboardEvent(e,k,w,x,b,c,u,g,y,f):3==r?o.initKeyboardEvent(e,k,w,x,p,h,b,c,u,g,m):4==r?o.initKeyboardEvent(e,k,w,x,p,h,_,S,P):o.initKeyboardEvent(e,k,w,x,v,p,h,_,S,P):o.initEvent(e,k,w);for(d in a)if(i(a,d)&&o[d]!=l[d])try{delete o[d],t(o,d,{writable:!0,value:l[d]})}catch(E){}return o}var n=this,r=function(e){try{return e.initKeyboardEvent("keyup",!1,!1,n,"+",3,!0,!1,!0,!1,!1),"+"==(e.keyIdentifier||e.key)&&3==(e.keyLocation||e.location)&&(e.ctrlKey?e.altKey?1:3:e.shiftKey?2:4)||9}catch(a){r=0}}(document.createEvent("KeyboardEvent")),a={"char":"",key:"",location:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,repeat:!1,locale:"",detail:0,bubbles:!1,cancelable:!1,keyCode:0,charCode:0,which:0},i=Function.prototype.call.bind(Object.prototype.hasOwnProperty),t=Object.defineProperty||function(e,n,r){"value"in r&&(e[n]=r.value)};n.crossBrowser_initKeyboardEvent=e}.call(window),Keyboard={resetToDefaults:function(){for(prop in Keyboard.defaultOptions)Keyboard.defaultOptions.hasOwnProperty(prop)&&"string"==typeof Keyboard.defaultOptions[prop]&&(Keyboard[prop]=Keyboard.defaultOptions[prop])},resetAccessKeys:function(){var e=function(e){if(!e||!e.length)return"";var n=e[e.length-1];return/^[a-z0-9]+$/i.test(n)?n:""};Keyboard.accesskeys={};for(prop in Keyboard)if(Keyboard.hasOwnProperty(prop)){var n=Keyboard[prop];"string"==typeof n&&(Keyboard.accesskeys[prop]=e(n))}},applySettings:function(e){if(this.resetToDefaults(),e&&e.keyboard)for(prop in Keyboard)Keyboard.hasOwnProperty(prop)&&"string"==typeof Keyboard[prop]&&"string"==typeof e.keyboard[prop]&&(Keyboard[prop]=e.keyboard[prop]);this.resetAccessKeys()},dispatch:function(e,n){if(!n.cancelBubble&&!n.defaultPrevented&&("undefined"==typeof n.returnValue||n.returnValue)){var r=n.srcElement||n.target;if(r)for(var a=r;a;){var i=a.nodeName;if("input"===i||"textarea"===i)return;if(a.getAttribute){var t=a.getAttribute("contenteditable");if("true"===t||"contenteditable"===t)return}if(a.classList&&a.classList.contains("keyboard-input"))return;a=a.parentNode}var s=crossBrowser_initKeyboardEvent(n.type,{bubbles:!0,cancelable:!1,keyCode:n.keyCode,charCode:n.charCode,which:n.which,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,altKey:n.altKey,metaKey:n.metaKey,"char":n["char"]?n["char"]:String.fromCharCode(n.charCode),key:n.key?n.key:n.keyCode});e.dispatchEvent(s)}},scope:function(e){e||alert("!SCOPE ACTIVATE!"),n.setScope(e)},on:function(e,a,i){e||console.error("!KEYS!"),r.hasOwnProperty(a)||(r[a]=[]),r[a].push(e),n.unbind(e,a),n(e,a,function(){$(document.body).addClass("keyboard"),i()})},off:function(e){if(e||alert("!SCOPE OFF!"),r.hasOwnProperty(e))for(k in r[e])n.unbind(k,e)},i18n:{ShowSettingsModal:e.settings,SettingsModalSave:e.settings+" - "+e.i18n_save_changes,SettingsModalClose:e.settings+" - "+e.i18n_close,PagePrevious:e.i18n_page_previous,PageNext:e.i18n_page_next,PagePreviousAlt:e.i18n_page_previous+" (access key)",PageNextAlt:e.i18n_page_next+" (access key)",ToolbarShow:e.i18n_toolbar_show,ToolbarHide:e.i18n_toolbar_hide,FullScreenToggle:e.enter_fullscreen+" / "+e.exit_fullscreen,SwitchToLibrary:e.view_library,TocShowHideToggle:e.toc,NightTheme:e.i18n_arabian_nights,MediaOverlaysPlayPause:e.i18n_audio_play+" / "+e.i18n_audio_pause,MediaOverlaysPrevious:e.i18n_audio_previous,MediaOverlaysNext:e.i18n_audio_next,MediaOverlaysEscape:e.i18n_audio_esc,MediaOverlaysRateIncrease:e.i18n_audio_rate_increase,MediaOverlaysRateDecrease:e.i18n_audio_rate_decrease,MediaOverlaysRateReset:e.i18n_audio_rate_reset,MediaOverlaysVolumeIncrease:e.i18n_audio_volume_increase,MediaOverlaysVolumeDecrease:e.i18n_audio_volume_decrease,MediaOverlaysVolumeMuteToggle:e.i18n_audio_mute+" / "+e.i18n_audio_unmute,MediaOverlaysAdvancedPanelShowHide:e.i18n_audio_expand,BackgroundAudioPlayPause:e.i18n_audio_play_background+" / "+e.i18n_audio_pause_background},defaultOptions:{},accesskeys:{},ShowSettingsModal:"o",SettingsModalSave:"s",SettingsModalClose:"c",PagePrevious:"left",PageNext:"right",PagePreviousAlt:"1",PageNextAlt:"2",ToolbarShow:"v",ToolbarHide:"x",FullScreenToggle:"h",SwitchToLibrary:"b",TocShowHideToggle:"t",NightTheme:"n",MediaOverlaysEscape:"r",MediaOverlaysPlayPause:"m",MediaOverlaysRateIncrease:"l",MediaOverlaysRateDecrease:"j",MediaOverlaysRateReset:"k",MediaOverlaysVolumeIncrease:"w",MediaOverlaysVolumeDecrease:"q",MediaOverlaysVolumeMuteToggle:"a",MediaOverlaysPrevious:"y",MediaOverlaysNext:"u",MediaOverlaysAdvancedPanelShowHide:"g",BackgroundAudioPlayPause:"d"};try{Keyboard.defaultOptions={};for(prop in Keyboard)Keyboard.hasOwnProperty(prop)&&"string"==typeof Keyboard[prop]&&(Keyboard.defaultOptions[prop]=Keyboard[prop]);Keyboard.resetAccessKeys()}catch(a){console.error(a)}return Keyboard}),define("readium_js_viewer/ReaderSettingsDialog_Keyboard",["hgn!readium_js_viewer_html_templates/settings-keyboard-item.html","i18nStrings","./Dialogs","Settings","./Keyboard","underscore"],function(e,n,r,a,i,t){var s=function(e,r){var a=!1,i=!1,t=$("#keyboard-list"),s=t.hasClass("atLeastOneInvalidOrDuplicateShortcut");t.removeClass("atLeastOneInvalidOrDuplicateShortcut");var d=$("#invalid_keyboard_shortcut_ALERT")[0];for(d.removeAttribute("role"),d.removeAttribute("aria-live"),d.removeAttribute("aria-atomic");d.firstChild;)d.removeChild(d.firstChild);var l=!1,b=$(".keyboardInput");b.each(function(){var n=$(this);n.parent().removeClass("duplicateShortcut"),n[0].removeAttribute("aria-invalid"),o(n,r),n.parent().hasClass("invalidShortcut")&&(n[0].setAttribute("aria-invalid","true"),i=!0,e&&e.length&&e[0]===n[0]&&(l=!0))});for(var u=!1,c=0;2>c;c++)b.each(function(){var n=$(this),r=n.parent().hasClass("invalidShortcut"),i=n.parent().hasClass("duplicateShortcut"),t=n.attr("placeholder"),s=r||i?t:n.attr("data-val");return i?!0:void b.each(function(){var r=$(this);if(r[0]===n[0])return!0;var i=r.attr("placeholder"),t=r.parent().hasClass("invalidShortcut"),o=r.parent().hasClass("duplicateShortcut"),d=t||o?i:r.attr("data-val");s===d&&(a=!0,e&&e.length&&(e[0]===n[0]||e[0]===r[0])&&(u=!0),n[0].setAttribute("aria-invalid","true"),r[0].setAttribute("aria-invalid","true"),r.parent().hasClass("duplicateShortcut")||r.parent().addClass("duplicateShortcut"),n.parent().hasClass("duplicateShortcut")||n.parent().addClass("duplicateShortcut"))})});if((a||i)&&(t.addClass("atLeastOneInvalidOrDuplicateShortcut"),l||u)){s?d.setAttribute("aria-live","polite"):d.setAttribute("role","alert"),d.setAttribute("aria-atomic","true");var g=document.createTextNode(l?n.i18n_invalid_keyboard_shortcut:n.i18n_duplicate_keyboard_shortcut);d.appendChild(g),d.style.visibility="hidden",d.style.visibility="visible"}},o=function(e,n){e.parent().removeClass("invalidShortcut"),e.attr("data-val",e.val());var r=e.val().toLowerCase().trim(),a=!1,i=!1,t=!1;r.indexOf("shift")>=0&&(a=!0),r.indexOf("ctrl")>=0&&(i=!0),r.indexOf("alt")>=0&&(t=!0);var s=r.lastIndexOf("+")===r.length-1;if(r=r.replace(/shift/g,""),r=r.replace(/ctrl/g,""),r=r.replace(/alt/g,""),r=r.replace(/\+/g,""),r=r.replace(/\s/g,""),r=r.trim(),s&&(r+="+"),r.match(/^[0-9A-Za-z]$/)||r.match(/^backspace$/)||r.match(/^space$/)||r.match(/^return$/)||r.match(/^enter$/)||r.match(/^left$/)||r.match(/^right$/)||r.match(/^up$/)||r.match(/^down$/)){var o=(a?"shift + ":"")+(i?"ctrl + ":"")+(t?"alt + ":"")+r;e.attr("data-val",o),n||e.val(o)}else e.parent().addClass("invalidShortcut")},d=function(){var r=$("#keyboard-list");r.empty(),r.append(e({strings:n,id:"TOP"}));for(prop in i)i.hasOwnProperty(prop)&&"string"==typeof i[prop]&&r.append(e({strings:n,keyboard:i,name:prop,shortcut:i[prop],i18n:i.i18n[prop],def:i.defaultOptions[prop]}));r.append(e({strings:n,id:"BOTTOM"})),s();var a=void 0;$(".keyboardInput").on("blur",function(){$(this);a=void 0,s()}),$(".keyboardInput").on("focus",function(){var e=$(this);s(e,!0)});var o=t.bind(t.debounce(s,700),this);$(".keyboardInput").on("keyup",function(){var e=$(this),n=e.val();n!==a&&o(e,!0),a=n}),$(".resetKey").on("click",function(){$that=$(this);var e=$that.attr("data-key");if(e){var n=$("input#"+e);n.val(i.defaultOptions[e])}else $(".resetKey[data-key]").each(function(){var e=$(this),n=e.attr("data-key");if(n){var r=$("input#"+n);r.val(i.defaultOptions[n])}});s()})},l=function(){var e=!1,a={};return s(),$(".keyboardInput").each(function(){var n=$(this),r=n.attr("placeholder"),t=n.attr("id"),s=n.attr("data-val");return(n.parent().hasClass("invalidShortcut")||n.parent().hasClass("duplicateShortcut"))&&(s=r),s.length?(s=s.toLowerCase(),r!==s&&(e=!0),void(s!==i.defaultOptions[t]&&(a[t]=s))):!0}),e&&r.showModalMessage("Readium - "+n.i18n_keyboard_shortcuts,n.i18n_keyboard_reload),a};return{initKeyboardList:d,saveKeys:l}}),define("readium_js_viewer/ReaderSettingsDialog",["./ModuleConfig","hgn!readium_js_viewer_html_templates/settings-dialog.html","./ReaderSettingsDialog_Keyboard","i18nStrings","./Dialogs","Settings","./Keyboard"],function(e,n,r,a,i,t,s){var o={fontSize:100,syntheticSpread:"auto",scroll:"auto",columnGap:60},d=function(e){var n="author-theme"===e,r=$(".preview-text");l(r,e);var a=window.getComputedStyle(r[0]),i=[{selector:"body",declarations:{backgroundColor:n?"":a.backgroundColor,color:n?"":a.color}}];return i},l=function(e,n){var r=e.attr("data-theme");e.removeClass(r),e.addClass(n),e.attr("data-theme",n)},b=function(e,n){if(e.updateSettings(n),n.theme){$("html").attr("data-theme",n.theme);var r=d(n.theme);e.setBookStyles(r),$("#reading-area").css(r[0].declarations)}},u=function(e,n,r,a){e.attr("aria-valuenow",n+""),e.attr("aria-value-now",n+""),e.attr("aria-valuetext",r+""),e.attr("aria-value-text",r+""),e.attr("title",a+" "+r),e.attr("aria-label",a+" "+r)},c=function(d){$("#app-container").append(n({imagePathPrefix:e.imagePathPrefix,strings:a,dialogs:i,keyboard:s})),$previewText=$(".preview-text"),$(".theme-option").on("click",function(){var e=$(this).attr("data-theme");l($previewText,e)});var c=$("#margin-size-input");c.on("change",function(){var e=c.val();u(c,e,e+"px",a.i18n_margins)});var g=$("#font-size-input");g.on("change",function(){var e=g.val();$previewText.css({fontSize:e/100+"em"}),u(g,e,e+"%",a.i18n_font_size)}),$("#tab-butt-main").on("click",function(){$("#tab-keyboard").attr("aria-expanded","false"),$("#tab-main").attr("aria-expanded","true")}),$("#tab-butt-keys").on("click",function(){$("#tab-main").attr("aria-expanded","false"),$("#tab-keyboard").attr("aria-expanded","true")}),$("#buttSave").on("keydown",function(e){9!==e.which||e.shiftKey|e.ctrlKey|e.metaKey|e.altKey||(e.preventDefault(),$("#closeSettingsCross").focus())}),$("#closeSettingsCross").on("keydown",function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),$("#buttSave").focus())}),$("#settings-dialog").on("hide.bs.modal",function(){setTimeout(function(){$("#keyboard-list").empty()},500)}),$("#settings-dialog").on("show.bs.modal",function(){$("#tab-butt-main").trigger("click"),r.initKeyboardList(),setTimeout(function(){$("#closeSettingsCross")[0].focus()},1e3),t.get("reader",function(e){e=e||o;for(prop in o)!o.hasOwnProperty(prop)||e.hasOwnProperty(prop)||e[prop]||(e[prop]=o[prop]);g.val(e.fontSize),u(g,e.fontSize,e.fontSize+"%",a.i18n_font_size),c.val(e.columnGap),u(c,e.columnGap,e.columnGap+"px",a.i18n_margins),"double"==e.syntheticSpread?$("#two-up-option input").prop("checked",!0):"single"==e.syntheticSpread?$("#one-up-option input").prop("checked",!0):$("#spread-default-option input").prop("checked",!0),"scroll-doc"==e.scroll?$("#scroll-doc-option input").prop("checked",!0):"scroll-continuous"==e.scroll?$("#scroll-continuous-option input").prop("checked",!0):$("#scroll-default-option input").prop("checked",!0),0===e.pageTransition?$("#pageTransition-1-option input").prop("checked",!0):1===e.pageTransition?$("#pageTransition-2-option input").prop("checked",!0):2===e.pageTransition?$("#pageTransition-3-option input").prop("checked",!0):3===e.pageTransition?$("#pageTransition-4-option input").prop("checked",!0):$("#pageTransition-none-option input").prop("checked",!0),e.theme&&l($previewText,e.theme),$previewText.css({fontSize:e.fontSize/100+"em"})})});var m=function(){var e={fontSize:Number(g.val()),syntheticSpread:"auto",columnGap:Number(c.val()),scroll:"auto"};$("#scroll-doc-option input").prop("checked")?e.scroll="scroll-doc":$("#scroll-continuous-option input").prop("checked")&&(e.scroll="scroll-continuous"),$("#two-up-option input").prop("checked")?e.syntheticSpread="double":$("#one-up-option input").prop("checked")&&(e.syntheticSpread="single"),e.pageTransition=$("#pageTransition-1-option input").prop("checked")?0:$("#pageTransition-2-option input").prop("checked")?1:$("#pageTransition-3-option input").prop("checked")?2:$("#pageTransition-4-option input").prop("checked")?3:-1,e.theme=$previewText.attr("data-theme"),d&&b(d,e);var n=r.saveKeys();t.get("reader",function(r){r||(r={});for(prop in e)e.hasOwnProperty(prop)&&(r[prop]=e[prop]);r.keyboard=n,t.put("reader",r),setTimeout(function(){s.applySettings(r)},100)})};s.on(s.NightTheme,"settings",function(){t.get("reader",function(e){e||(e={});var n="night-theme"===e.theme;e.theme=n?"author-theme":"night-theme",t.put("reader",e),d&&b(d,e)})}),s.on(s.SettingsModalSave,"settings",function(){m(),$("#settings-dialog").modal("hide")}),s.on(s.SettingsModalClose,"settings",function(){$("#settings-dialog").modal("hide")}),$("#settings-dialog .btn-primary").on("click",m)};return{initDialog:c,updateReader:b,defaultSettings:o}}),define("Analytics",[],function(){return{trackView:function(){},sendEvent:function(){}}}),define("readium_js_viewer/versioning/ReadiumVersioning",["readium_js/Readium"],function(e){var n={getVersioningInfo:function(n){var r={};r=e.version,r.dateTimeString=new Date(e.version.readiumJsViewer.timestamp).toString(),n(r)}};return n}),define("readium_js_viewer/EpubLibrary",["./ModuleConfig","jquery","bootstrap","bootstrapA11y","StorageManager","Settings","./EpubLibraryManager","i18nStrings","hgn!readium_js_viewer_html_templates/library-navbar.html","hgn!readium_js_viewer_html_templates/library-body.html","hgn!readium_js_viewer_html_templates/empty-library.html","hgn!readium_js_viewer_html_templates/library-item.html","hgn!readium_js_viewer_html_templates/details-dialog.html","hgn!readium_js_viewer_html_templates/about-dialog.html","hgn!readium_js_viewer_html_templates/details-body.html","hgn!readium_js_viewer_html_templates/add-epub-dialog.html","./ReaderSettingsDialog","./Dialogs","./workers/Messages","Analytics","./Keyboard","./versioning/ReadiumVersioning"],function(e,n,r,a,i,t,s,o,d,l,b,u,c,g,m,_,p,v,h,y,f,k){var w,S,P=c({strings:o}),x=function(){var e,n=document.styleSheets[0],r=0;do e=n.cssRules?n.cssRules[r]:n.rules[r],e&&e.selectorText&&(".library-item"==e.selectorText.toLowerCase()?w=e:"body:not(.list-view) .library-item .no-cover"==e.selectorText.toLowerCase()&&(S=e)),r++;while(e)},E=function(){if(w&&S){var e=2,n=3,r=4,a=0,i=0,t=1,s=window.innerWidth;s>=992?(i=s*(e/12)-30,a=1.33*i+60):s>=768?(i=s*(n/12)-30,a=1.33*i+60):(i=s*(r/12)-30,a=1.33*i+20),w.style.height=a+"px",t=i/300,S.style.width=i+"px",S.style.height=1.33*i+"px",S.style.fontSize=40*t+"px"}},R=function(e){var r=m({data:e,strings:o});n(".details-dialog .modal-body").html(r),n(".details-dialog .delete").on("click",function(){n(".details-dialog").modal("hide");var r=function(){s.retrieveAvailableEpubs(A),v.closeModal()},a=o.i18n_are_you_sure+" '"+e.title+"'";v.showModalPrompt(o.delete_dlg_title,a,o.i18n_delete,o.i18n_cancel,function(){v.showModalProgress(o.delete_progress_title,""),v.updateProgress(100,h.PROGRESS_DELETING,e.title,!0),s.deleteEpubWithId(e.rootDir,r,T)})})},T=function(e){v.showError(e)},O=function(){var e=n(this),r=e.attr("data-package"),a=e.attr("data-root"),i=e.attr("data-root-dir"),t=e.attr("data-no-cover");n(".details-dialog").remove(),n(".details-dialog").off("hidden.bs.modal"),n(".details-dialog").off("shown.bs.modal"),n("#app-container").append(P),n("#details-dialog").on("hidden.bs.modal",function(){f.scope("library"),setTimeout(function(){e.focus()},50)}),n("#details-dialog").on("shown.bs.modal",function(){f.scope("details")}),n(".details-dialog").modal(),s.retrieveFullEpubDetails(r,a,i,t,R,T)},A=function(r){if(n("#app-container .library-items").remove(),n("#app-container").append(l({})),!r.length)return void n("#app-container .library-items").append(b({imagePathPrefix:e.imagePathPrefix,strings:o}));var a=0;r.forEach(function(r){var i=e.imagePathPrefix+"images/covers/cover"+(a++%8+1)+".jpg";n(".library-items").append(u({count:{n:a,tabindex:2*a+99},epub:r,strings:o,noCoverBackground:i}))}),n(".details").on("click",O)},C=function(){var e=n(this).attr("data-book");return n(window).triggerHandler("readepub",[e]),!1},M=function(){v.closeModal(),v.reset(),n(".modal-backdrop").remove(),f.off("library"),f.off("settings"),n("#settings-dialog").off("hidden.bs.modal"),n("#settings-dialog").off("shown.bs.modal"),n("#about-dialog").off("hidden.bs.modal"),n("#about-dialog").off("shown.bs.modal"),n("#add-epub-dialog").off("hidden.bs.modal"),n("#add-epub-dialog").off("shown.bs.modal"),n(".details-dialog").off("hidden.bs.modal"),n(".details-dialog").off("shown.bs.modal"),n(window).off("resize"),n(document.body).off("click"),n(window).off("storageReady"),n("#app-container").attr("style","")},D=function(e,n,r){t.get("replaceByDefault",function(e){"true"===e?n():r()})},U=function(){v.closeModal(),s.retrieveAvailableEpubs(A)},I=function(e){var r=e.target.files[0];n("#add-epub-dialog").modal("hide"),v.showModalProgress(o.import_dlg_title,o.import_dlg_message),s.handleZippedEpub({file:r,overwrite:D,success:U,progress:v.updateProgress,error:T})},B=function(e){var r=e.target.files;n("#add-epub-dialog").modal("hide"),v.showModalProgress(o.import_dlg_title,o.import_dlg_message),s.handleDirectoryImport({files:r,overwrite:D,success:U,progress:v.updateProgress,error:T})},j=function(){var e=n("#url-upload").val();n("#add-epub-dialog").modal("hide"),v.showModalProgress(o.import_dlg_title,o.import_dlg_message),s.handleUrlImport({url:e,overwrite:D,success:U,progress:v.updateProgress,error:T})},N=function(){v.showModalProgress(o.migrate_dlg_title,o.migrate_dlg_message),s.handleMigration({success:function(){t.put("needsMigration",!1,n.noop),U()},progress:v.updateProgress,error:T})},L=function(){v.reset(),f.scope("library"),y.trackView("/library");var r=n("#app-container");r.empty(),p.initDialog(),r.append(_({canHandleUrl:s.canHandleUrl(),canHandleDirectory:s.canHandleDirectory(),strings:o})),k.getVersioningInfo(function(n){r.append(g({imagePathPrefix:e.imagePathPrefix,strings:o,viewer:n.readiumJsViewer,readium:n.readiumJs,sharedJs:n.readiumSharedJs,cfiJs:n.readiumCfiJs}))}),n("#about-dialog").on("hidden.bs.modal",function(){f.scope("library"),setTimeout(function(){n("#aboutButt1").focus()},50)}),n("#about-dialog").on("shown.bs.modal",function(){f.scope("about")}),n("#add-epub-dialog").on("hidden.bs.modal",function(){f.scope("library"),setTimeout(function(){n("#addbutt").focus()},50)}),n("#add-epub-dialog").on("shown.bs.modal",function(){f.scope("add"),n("#add-epub-dialog input").val(""),setTimeout(function(){n("#closeAddEpubCross")[0].focus()},1e3)}),n("#url-upload").on("keyup",function(){var e=n(this).val();e&&e.length?n("#add-epub-dialog .add-book").prop("disabled",!1):n("#add-epub-dialog .add-book").prop("disabled",!0)}),n(".add-book").on("click",j),n("nav").empty(),n("nav").attr("aria-label",o.i18n_toolbar),n("nav").append(d({strings:o,dialogs:v,keyboard:f})),n(".icon-list-view").on("click",function(){n(document.body).addClass("list-view"),setTimeout(function(){n(".icon-thumbnails")[0].focus()},50)}),n(".icon-thumbnails").on("click",function(){n(document.body).removeClass("list-view"),setTimeout(function(){n(".icon-list-view")[0].focus()},50)}),x(),E(),i.initStorage(function(){s.retrieveAvailableEpubs(A)},T),f.on(f.ShowSettingsModal,"library",function(){n("#settings-dialog").modal("show")}),n(window).trigger("libraryUIReady"),n(window).on("resize",E);var a=function(){var e=n(document.body).height()-n("#app-container")[0].offsetTop;n("#app-container").height(e)};n(window).on("resize",a),n("#app-container").css("overflowY","auto"),a(),n(document.body).on("click",".read",C),n("#epub-upload").on("change",I),n("#dir-upload").on("change",B),document.title=o.i18n_readium_library,n("#settings-dialog").on("hidden.bs.modal",function(){f.scope("library"),setTimeout(function(){n("#settbutt1").focus()},50),n("#buttSave").removeAttr("accesskey"),n("#buttClose").removeAttr("accesskey")}),n("#settings-dialog").on("shown.bs.modal",function(){f.scope("settings"),n("#buttSave").attr("accesskey",f.accesskeys.SettingsModalSave),n("#buttClose").attr("accesskey",f.accesskeys.SettingsModalClose)}),t.get("needsMigration",function(e){e&&N()})},$=function(e){t.get("reader",function(n){f.applySettings(n),L(e)})};return window.setReplaceByDefault=function(e){t.put("replaceByDefault",String(e))},{loadUI:$,unloadUI:M}}),define("readium_js_viewer/Spinner",["spin"],function(e){var n={lines:17,length:0,width:10,radius:48,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:66,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"};return new e(n)}),define("hgn!readium_js_viewer_html_templates/reader-navbar.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div class="btn-group navbar-left">\r'),a.b("\n"+r),a.b('        <!-- <button type="button" class="btn btn-default icon icon-show-hide"></button>  -->\r'),a.b("\n"+r),a.b('    <button id="aboutButt1" tabindex="1" type="button" class="btn icon-logo" data-toggle="modal" data-target="#about-dialog" title="'),a.b(a.v(a.d("strings.about",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.about",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('        <span class="icon-readium" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("    </button>\r"),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b('    <button id="buttShowToolBar" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:1px;height=1px;" tabindex="-1" aria-hidden="true" type="button" title="access key '),a.b(a.v(a.d("keyboard.ToolbarShow",e,n,0))),a.b('" aria-label="access key '),a.b(a.v(a.d("keyboard.ToolbarShow",e,n,0))),a.b('" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.ToolbarShow",e,n,0))),a.b('"> </button>\r'),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b('    <button id="buttHideToolBar" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '),a.b(a.v(a.d("keyboard.ToolbarHide",e,n,0))),a.b('" aria-label="access key '),a.b(a.v(a.d("keyboard.ToolbarHide",e,n,0))),a.b('" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.ToolbarHide",e,n,0))),a.b('"> </button>\r'),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b('    <button id="buttNightTheme" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '),a.b(a.v(a.d("keyboard.NightTheme",e,n,0))),a.b('" aria-label="access key '),a.b(a.v(a.d("keyboard.NightTheme",e,n,0))),a.b('" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.NightTheme",e,n,0))),a.b('"> </button>\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('    <button id="buttRatePlus" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '),a.b(a.v(a.d("keyboard.MediaOverlaysRateIncrease",e,n,0))),a.b('" aria-label="access key '),a.b(a.v(a.d("keyboard.MediaOverlaysRateIncrease",e,n,0))),a.b('" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.MediaOverlaysRateIncrease",e,n,0))),a.b('"> </button>\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('    <button id="buttRateMinus" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '),a.b(a.v(a.d("keyboard.MediaOverlaysRateDecrease",e,n,0))),a.b('" aria-label="access key '),a.b(a.v(a.d("keyboard.MediaOverlaysRateDecrease",e,n,0))),a.b('" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.MediaOverlaysRateDecrease",e,n,0))),a.b('"> </button>\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('    <button id="buttVolumePlus" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeIncrease",e,n,0))),a.b('" aria-label="access key '),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeIncrease",e,n,0))),a.b('" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.MediaOverlaysVolumeIncrease",e,n,0))),a.b('"> </button>\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('    <button id="buttVolumeMinus" style="opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;" tabindex="-1" aria-hidden="true" type="button" title="access key '),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeDecrease",e,n,0))),a.b('" aria-label="access key '),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeDecrease",e,n,0))),a.b('" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.MediaOverlaysVolumeDecrease",e,n,0))),a.b('"> </button>\r'),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b("</div>\r"),a.b("\n"+r),a.b('<div class="btn-group navbar-right">\r'),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('    <div id="backgroundAudioTrack-div">\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('        <button tabindex="1" id="backgroundAudioTrack-button-play" type="button" class="btn icon-play-audio-background"  title="'),a.b(a.v(a.d("strings.i18n_audio_play_background",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.BackgroundAudioPlayPause",e,n,0))),a.b(']"  aria-label="'),a.b(a.v(a.d("strings.i18n_audio_play_background",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.BackgroundAudioPlayPause",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.BackgroundAudioPlayPause",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('            <span class="glyphicon glyphicon-music" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b('        <button tabindex="1" id="backgroundAudioTrack-button-pause" type="button" class="btn icon-pause-audio-background"  title="'),a.b(a.v(a.d("strings.i18n_audio_pause_background",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.BackgroundAudioPlayPause",e,n,0))),a.b(']"  aria-label="'),a.b(a.v(a.d("strings.i18n_audio_pause_background",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.BackgroundAudioPlayPause",e,n,0))),a.b(']">\r'),a.b("\n"+r),a.b('            <span class="glyphicon glyphicon-volume-up" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b("        \r"),a.b("\n"+r),a.b("    </div>\r"),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b("    <!--Audioplayer Controls START-->\r"),a.b("\n"+r),a.b('    <div id="audioplayer">\r'),a.b("\n"+r),a.b("        \r"),a.b("\n"+r),a.b('        <button tabindex="1" id="btn-collapse-audio" type="button" class="btn icon-collapse-audio" title="'),a.b(a.v(a.d("strings.i18n_audio_collapse",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysAdvancedPanelShowHide",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_collapse",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysAdvancedPanelShowHide",e,n,0))),a.b(']">\r'),a.b("\n"+r),a.b('            <span class="glyphicon glyphicon-open" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('        <button tabindex="1" id="btn-expand-audio" type="button" class="btn icon-expand-audio" title="'),a.b(a.v(a.d("strings.i18n_audio_expand",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysAdvancedPanelShowHide",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_expand",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysAdvancedPanelShowHide",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.MediaOverlaysAdvancedPanelShowHide",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('            <span class="glyphicon glyphicon-save" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b("        \r"),a.b("\n"+r),a.b('        <button tabindex="1" id="btn-previous-audio" type="button" class="btn icon-previous-audio" title="'),a.b(a.v(a.d("strings.i18n_audio_previous",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysPrevious",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_previous",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysPrevious",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.MediaOverlaysPrevious",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('            <span class="glyphicon glyphicon-backward" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b("        \r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('        <button tabindex="1" id="btn-play-audio" type="button" class="btn icon-play-audio"  title="'),a.b(a.v(a.d("strings.i18n_audio_play",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysPlayPause",e,n,0))),a.b(']"  aria-label="'),a.b(a.v(a.d("strings.i18n_audio_play",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysPlayPause",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.MediaOverlaysPlayPause",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('            <span class="glyphicon glyphicon-play" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b('        <button tabindex="1" id="btn-pause-audio" type="button" class="btn icon-pause-audio"  title="'),a.b(a.v(a.d("strings.i18n_audio_pause",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysPlayPause",e,n,0))),a.b(']"  aria-label="'),a.b(a.v(a.d("strings.i18n_audio_pause",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysPlayPause",e,n,0))),a.b(']">\r'),a.b("\n"+r),a.b('            <span class="glyphicon glyphicon-pause" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b("        \r"),a.b("\n"+r),a.b("        \r"),a.b("\n"+r),a.b('        <button tabindex="1" id="btn-next-audio" type="button" class="btn icon-next-audio" title="'),a.b(a.v(a.d("strings.i18n_audio_next",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysNext",e,n,0))),a.b(']" arial-label="'),a.b(a.v(a.d("strings.i18n_audio_next",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysNext",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.MediaOverlaysNext",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('            <span class="glyphicon glyphicon-forward" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('        <div id="audioResponsive">\r'),a.b("\n"+r),a.b("        \r"),a.b("\n"+r),a.b('        <button tabindex="1" id="btn-audio-volume-mute" type="button" class="btn icon-audio-volume-mute" title="'),a.b(a.v(a.d("strings.i18n_audio_mute",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeMuteToggle",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_mute",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeMuteToggle",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.MediaOverlaysVolumeMuteToggle",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('            <span class="glyphicon glyphicon-volume-up" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b('        <button tabindex="1" id="btn-audio-volume-unmute" type="button" class="btn icon-audio-volume-unmute" title="'),a.b(a.v(a.d("strings.i18n_audio_unmute",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeMuteToggle",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_unmute",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeMuteToggle",e,n,0))),a.b(']">\r'),a.b("\n"+r),a.b('            <span class="glyphicon glyphicon-volume-off" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b("        \r"),a.b("\n"+r),a.b('        <input tabindex="1" id="volume-range-slider" type="range" role="slider" min="0" aria-value-min="0" aria-valuemin="0" max="100" aria-value-max="100" aria-valuemax="100" value="100" aria-valuenow="100" aria-value-now="100" aria-valuetext="100%" aria-value-text="100%" title="'),a.b(a.v(a.d("strings.i18n_audio_volume",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeDecrease",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeIncrease",e,n,0))),a.b(']" arial-label="'),a.b(a.v(a.d("strings.i18n_audio_volume",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeDecrease",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.MediaOverlaysVolumeIncrease",e,n,0))),a.b(']" />\r'),a.b("\n"+r),a.b("        \r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('        <button tabindex="1" tabindex="1" id="btn-touch-audio-enable" type="button" class="btn icon-touch-audio-enable" title="'),a.b(a.v(a.d("strings.i18n_audio_touch_enable",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_touch_enable",e,n,0))),a.b('" >\r'),a.b("\n"+r),a.b('            <span id="icon-touch-off-hand" class="glyphicon glyphicon-hand-up" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('            <span id="icon-touch-off" class="glyphicon glyphicon-remove" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('        <button tabindex="1" id="btn-touch-audio-disable" type="button" class="btn icon-touch-audio-disable" title="'),a.b(a.v(a.d("strings.i18n_audio_touch_disable",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_touch_disable",e,n,0))),a.b('" >\r'),a.b("\n"+r),a.b('            <span id="icon-touch-on-hand" class="glyphicon glyphicon-hand-up" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('            <span id="icon-touch-on" class="glyphicon glyphicon-ok" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("        </button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("        \r"),a.b("\n"+r),a.b("    </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('        <div id="audioExpanded" role="alert">\r'),a.b("\n"+r),a.b("            \r"),a.b("\n"+r),a.b('            <input tabindex="1" id="time-range-slider" type="range" role="slider" min="0" aria-value-min="0" aria-valuemin="0" max="100" aria-value-max="100" aria-valuemax="100" value="0" aria-valuenow="0" aria-value-now="0" aria-valuetext="0%" aria-value-text="0%" data-value="0" title="'),a.b(a.v(a.d("strings.i18n_audio_time",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_time",e,n,0))),a.b('"  />\r'),a.b("\n"+r),a.b("            \r"),a.b("\n"+r),a.b("            \r"),a.b("\n"+r),a.b('            <button tabindex="1" id="btn-audio-rate" type="button" class="btn icon-rate-audio" title="'),a.b(a.v(a.d("strings.i18n_audio_rate_reset",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysRateReset",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_rate_reset",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysRateReset",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.MediaOverlaysRateReset",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('                <span class="glyphicon glyphicon-play-circle" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("            </button>\r"),a.b("\n"+r),a.b("            \r"),a.b("\n"+r),a.b('            <input tabindex="1" id="rate-range-slider" type="range" role="slider" min="0" aria-value-min="0" aria-valuemin="0" max="4" aria-value-max="4" aria-valuemax="4" value="1" aria-valuenow="1" aria-value-now="1" aria-valuetext="1x" aria-value-text="1x" step="0.5" title="'),a.b(a.v(a.d("strings.i18n_audio_rate",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysRateDecrease",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.MediaOverlaysRateIncrease",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_rate",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysRateDecrease",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.MediaOverlaysRateIncrease",e,n,0))),a.b(']" />\r'),a.b("\n"+r),a.b("            \r"),a.b("\n"+r),a.b('            <span aria-hidden="true" tabindex="-1" id="rate-range-slider-label">1x</span>\r'),a.b("\n"+r),a.b("            \r"),a.b("\n"+r),a.b('            <form action="" id="mo-sync-form">\r'),a.b("\n"+r),a.b('                <input tabindex="1" type="radio" name="mo-sync" value="default" id="mo-sync-default" class="mo-sync" checked="checked"  title="'),a.b(a.v(a.d("strings.i18n_audio_sync_default",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_sync_default",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('"> </input>\r'),a.b("\n"+r),a.b('                <label tabindex="1" for="mo-sync-default" title="'),a.b(a.v(a.d("strings.i18n_audio_sync_default",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('"><span aria-hidden="true">&#8855;</span></label>\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('                <input tabindex="1" type="radio" name="mo-sync" value="word" id="mo-sync-word" class="mo-sync" title="'),a.b(a.v(a.d("strings.i18n_audio_sync_word",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_sync_word",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('"> </input>\r'),a.b("\n"+r),a.b('                <label tabindex="1" for="mo-sync-word" title="'),a.b(a.v(a.d("strings.i18n_audio_sync_word",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('"><span aria-hidden="true">'),a.b(a.v(a.d("strings.i18n_audio_sync_word",e,n,0))),a.b("</span></label>\r"),a.b("\n"+r),a.b("                \r"),a.b("\n"+r),a.b('                <input tabindex="1" type="radio" name="mo-sync" value="sentence" id="mo-sync-sentence" class="mo-sync" title="'),a.b(a.v(a.d("strings.i18n_audio_sync_sentence",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_sync_sentence",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('"> </input>\r'),a.b("\n"+r),a.b('                <label tabindex="1" for="mo-sync-sentence" title="'),a.b(a.v(a.d("strings.i18n_audio_sync_sentence",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('"><span aria-hidden="true">'),a.b(a.v(a.d("strings.i18n_audio_sync_sentence",e,n,0))),a.b("</span></label>\r"),a.b("\n"+r),a.b("                \r"),a.b("\n"+r),a.b('                <input tabindex="1" type="radio" name="mo-sync" value="paragraph" id="mo-sync-paragraph" class="mo-sync" title="'),a.b(a.v(a.d("strings.i18n_audio_sync_paragraph",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_sync_paragraph",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('"> </input>\r'),a.b("\n"+r),a.b('                <label tabindex="1" for="mo-sync-paragraph" title="'),a.b(a.v(a.d("strings.i18n_audio_sync_paragraph",e,n,0))),a.b(" "),a.b(a.v(a.d("strings.i18n_audio_sync",e,n,0))),a.b('"><span aria-hidden="true">'),a.b(a.v(a.d("strings.i18n_audio_sync_paragraph",e,n,0))),a.b("</span></label>\r"),a.b("\n"+r),a.b("            </form>\r"),a.b("\n"+r),a.b("            \r"),a.b("\n"+r),a.b('            <div id="audio-block">\r'),a.b("\n"+r),a.b("            \r"),a.b("\n"+r),a.b('            <div id="mo-highlighters">\r'),a.b("\n"+r),a.b('                <button tabindex="1" id="mo-highlighter-0" type="button" class="btn btn-mo-highlighter" title="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(": "),a.b(a.v(a.d("strings.i18n_audio_highlight_default",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(": "),a.b(a.v(a.d("strings.i18n_audio_highlight_default",e,n,0))),a.b('" aria-selected="true" data-mohighlight="0" >\r'),a.b("\n"+r),a.b("                    "),a.b(a.v(a.d("strings.i18n_audio_highlight_default",e,n,0))),a.b("\r"),a.b("\n"+r),a.b("                </button>\r"),a.b("\n"+r),a.b('                <button tabindex="1" id="mo-highlighter-1" type="button" class="btn btn-mo-highlighter" title="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #1" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #1" data-mohighlight="1" >\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("                </button>\r"),a.b("\n"+r),a.b('                <button tabindex="1" id="mo-highlighter-2" type="button" class="btn btn-mo-highlighter" title="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #2" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #2" data-mohighlight="2" >\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("                </button>\r"),a.b("\n"+r),a.b('                <button tabindex="1" id="mo-highlighter-3" type="button" class="btn btn-mo-highlighter" title="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #3" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #3" data-mohighlight="3" >\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("                </button>\r"),a.b("\n"+r),a.b('                <button tabindex="1" id="mo-highlighter-4" type="button" class="btn btn-mo-highlighter" title="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #4" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #4" data-mohighlight="4" >\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("                </button>\r"),a.b("\n"+r),a.b('                <button tabindex="1" id="mo-highlighter-5" type="button" class="btn btn-mo-highlighter" title="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #5" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #5" data-mohighlight="5" >\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("                </button>\r"),a.b("\n"+r),a.b('                <button tabindex="1" id="mo-highlighter-6" type="button" class="btn btn-mo-highlighter" title="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #6" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_highlight",e,n,0))),a.b(': #6" data-mohighlight="6" >\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("                </button>\r"),a.b("\n"+r),a.b("            </div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('            <button tabindex="1" id="btn-playback-scroll-enable" type="button" class="btn icon-playback-scroll-enable" title="'),a.b(a.v(a.d("strings.i18n_playback_scroll_enable",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_playback_scroll_enable",e,n,0))),a.b('" >\r'),a.b("\n"+r),a.b('                <span id="icon-playback-scroll-off" class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("            </button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('            <button tabindex="1" id="btn-playback-scroll-disable" type="button" class="btn icon-playback-scroll-disable" title="'),a.b(a.v(a.d("strings.i18n_playback_scroll_disable",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_playback_scroll_disable",e,n,0))),a.b('" >\r'),a.b("\n"+r),a.b('                <span id="icon-playback-scroll-on" class="glyphicon glyphicon-sort" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("            </button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('            <button tabindex="1" id="btn-auto-page-turn-enable" type="button" class="btn icon-auto-page-turn-enable" title="'),a.b(a.v(a.d("strings.i18n_auto_page_turn_enable",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_auto_page_turn_enable",e,n,0))),a.b('" >\r'),a.b("\n"+r),a.b('                <span id="icon-auto-page-turn-off" class="glyphicon glyphicon-sound-stereo" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("            </button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('            <button tabindex="1" id="btn-auto-page-turn-disable" type="button" class="btn icon-auto-page-turn-disable" title="'),a.b(a.v(a.d("strings.i18n_auto_page_turn_disable",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_auto_page_turn_disable",e,n,0))),a.b('" >\r'),a.b("\n"+r),a.b('                <span id="icon-auto-page-turn-on" class="glyphicon glyphicon-sound-dolby" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("            </button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('            <button tabindex="1" id="btn-skip-audio-enable" type="button" class="btn icon-skip-audio-enable" title="'),a.b(a.v(a.d("strings.i18n_audio_skip_enable",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_skip_enable",e,n,0))),a.b('" >\r'),a.b("\n"+r),a.b('                <span id="icon-skip-off" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("            </button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('            <button tabindex="1" id="btn-skip-audio-disable" type="button" class="btn icon-skip-audio-disable" title="'),a.b(a.v(a.d("strings.i18n_audio_skip_disable",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_skip_disable",e,n,0))),a.b('" >\r'),a.b("\n"+r),a.b('                <span id="icon-skip-on" class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("            </button>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('            <button tabindex="1" id="btn-esc-audio" type="button" class="btn icon-esc-audio" title="'),a.b(a.v(a.d("strings.i18n_audio_esc",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysEscape",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.i18n_audio_esc",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.MediaOverlaysEscape",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.MediaOverlaysEscape",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('                <span class="glyphicon glyphicon-eject" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("            </button>\r"),a.b("\n"+r),a.b("            \r"),a.b("\n"+r),a.b("            </div>\r"),a.b("\n"+r),a.b("            \r"),a.b("\n"+r),a.b('            <!-- div class="checkbox">\r'),a.b("\n"+r),a.b("              <label>\r"),a.b("\n"+r),a.b('                <input type="checkbox" value="false"> Skip\r'),a.b("\n"+r),a.b("              </label>\r"),a.b("\n"+r),a.b("            </div -->\r"),a.b("\n"+r),a.b("        </div>\r"),a.b("\n"+r),a.b("    </div> \r"),a.b("\n"+r),a.b("    <!--Audioplayer Controls END-->\r"),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b('    <div class="zoom-wrapper dropdown" style="display:none">\r'),a.b("\n"+r),a.b('        <a tabindex="1" href="#" data-toggle="dropdown"><input tabindex="1" type="text" value="100%" disabled/><span class="caret"></span></a>\r'),a.b("\n"+r),a.b('        <ul id="zoom-menu" class="dropdown-menu" role="menu">\r'),a.b("\n"+r),a.b('            <li id="zoom-custom"><a href="#" tabindex="1">Custom <span class="glyphicon glyphicon-ok"></span></a></li>\r'),a.b("\n"+r),a.b('            <li id="zoom-fit-width"><a href="#" tabindex="1">Fit Width <span class="glyphicon glyphicon-ok"></span></a></li>\r'),a.b("\n"+r),a.b('            <li id="zoom-fit-screen" class="active-zoom"><a href="#" tabindex="1">Fit Screen <span class="glyphicon glyphicon-ok"></span></a></li>\r'),a.b("\n"+r),a.b("        </ul>\r"),a.b("\n"+r),a.b("    </div>\r"),a.b("\n"+r),a.b('    <button tabindex="1" type="button" class="btn icon-library" title="'),a.b(a.v(a.d("strings.view_library",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.SwitchToLibrary",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.view_library",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.SwitchToLibrary",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.SwitchToLibrary",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('        <span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("    </button>\r"),a.b("\n"+r),a.b('    <button tabindex="1" type="button" class="btn icon-annotations" title="'),a.b(a.v(a.d("strings.highlight_selection",e,n,0))),a.b('" aria-label="'),a.b(a.v(a.d("strings.highlight_selection",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('        <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("    </button>\r"),a.b("\n"+r),a.b('    <button id="tocButt" tabindex="1" tabindex="1" type="button" class="btn icon-toc" title="'),a.b(a.v(a.d("strings.toc",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.TocShowHideToggle",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.toc",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.TocShowHideToggle",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.TocShowHideToggle",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('        <span class="glyphicon glyphicon-list" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("    </button>\r"),a.b("\n"+r),a.b('    <button id="settbutt1" tabindex="1" type="button" class="btn icon-settings" data-toggle="modal" data-target="#settings-dialog" title="'),a.b(a.v(a.d("strings.settings",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.ShowSettingsModal",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.settings",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.ShowSettingsModal",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.ShowSettingsModal",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('        <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("    </button>\r"),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b('    <button tabindex="1" id="buttFullScreenToggle" type="button" class="btn icon-full-screen" title="'),a.b(a.v(a.d("strings.enter_fullscreen",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.FullScreenToggle",e,n,0))),a.b(']" aria-label="'),a.b(a.v(a.d("strings.enter_fullscreen",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.FullScreenToggle",e,n,0))),a.b(']" accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.FullScreenToggle",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b('        <span class="glyphicon glyphicon-resize-full" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("    </button>\r"),a.b("\n"+r),a.b("    \r"),a.b("\n"+r),a.b('    <!-- <button type="button" class="btn btn-default icon icon-bookmark"></button>-->\r'),a.b("\n"+r),a.b("</div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"),a.fl()
},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/reader-body.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b('<div id="readium-toc-body"\r'),a.b("\n"+r),a.b('aria-label="'),a.b(a.v(a.d("strings.toc",e,n,0))),a.b('"\r'),a.b("\n"+r),a.b('role="navigation"\r'),a.b("\n"+r),a.b(">\r"),a.b("\n"+r),a.b("</div>\r"),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('<div id="reading-area" role="main">  \r'),a.b("\n"+r),a.b('  <div id="epub-reader-container">\r'),a.b("\n"+r),a.b('    <div id="epub-reader-frame">\r'),a.b("\n"+r),a.b("    </div>\r"),a.b("\n"+r),a.b("  </div>\r"),a.b("\n"+r),a.b("  \r"),a.b("\n"+r),a.b('  <div id="readium-page-btns" role="region" aria-label="'),a.b(a.v(a.d("strings.i18n_page_navigation",e,n,0))),a.b('">\r'),a.b("\n"+r),a.b("  <!-- page left/right buttons inserted here when EPUB is loaded (page progression direction) -->\r"),a.b("\n"+r),a.b("  </div>\r"),a.b("\n"+r),a.b("  \r"),a.b("\n"+r),a.b("</div>"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("hgn!readium_js_viewer_html_templates/reader-body-page-btns.html",["hogan"],function(e){function n(){return r.render.apply(r,arguments)}var r=new e.Template({code:function(e,n,r){var a=this;return a.b(r=r||""),a.b("<!-- Left page -->\r"),a.b("\n"+r),a.b('<button tabindex="0" id="left-page-btn" class="page-switch-overlay-icon" type="button"\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.s(a.f("pageProgressionDirectionIsRTL",e,n,1),e,n,0,144,402,"{{ }}")&&(a.rs(e,n,function(e,n,a){a.b('title="'),a.b(a.v(a.d("strings.i18n_page_next",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.PagePrevious",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.PagePreviousAlt",e,n,0))),a.b(']"\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('aria-label="'),a.b(a.v(a.d("strings.i18n_page_next",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.PagePrevious",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.PagePreviousAlt",e,n,0))),a.b(']"\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.PagePreviousAlt",e,n,0))),a.b('"\r'),a.b("\n"+r)}),e.pop()),a.b("\r"),a.b("\n"+r),a.s(a.f("pageProgressionDirectionIsRTL",e,n,1),e,n,1,0,0,"")||(a.b('title="'),a.b(a.v(a.d("strings.i18n_page_previous",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.PagePrevious",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.PagePreviousAlt",e,n,0))),a.b(']"\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('aria-label="'),a.b(a.v(a.d("strings.i18n_page_previous",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.PagePrevious",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.PagePreviousAlt",e,n,0))),a.b(']"\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.PagePreviousAlt",e,n,0))),a.b('"\r'),a.b("\n"+r)),a.b("\r"),a.b("\n"+r),a.b(">\r"),a.b("\n"+r),a.b('<!-- img aria-hidden="true" src="images/pagination1.svg" -->\r'),a.b("\n"+r),a.b('<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("</button>\r"),a.b("\n"+r),a.b("  \r"),a.b("\n"+r),a.b("<!-- Right page -->\r"),a.b("\n"+r),a.b('<button tabindex="0" id="right-page-btn" class="page-switch-overlay-icon" type="button"\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.s(a.f("pageProgressionDirectionIsRTL",e,n,1),e,n,0,1079,1325,"{{ }}")&&(a.rs(e,n,function(e,n,a){a.b('title="'),a.b(a.v(a.d("strings.i18n_page_previous",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.PageNext",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.PageNextAlt",e,n,0))),a.b(']"\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('aria-label="'),a.b(a.v(a.d("strings.i18n_page_previous",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.PageNext",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.PageNextAlt",e,n,0))),a.b(']"\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.PageNextAlt",e,n,0))),a.b('"\r'),a.b("\n"+r)}),e.pop()),a.b("\r"),a.b("\n"+r),a.s(a.f("pageProgressionDirectionIsRTL",e,n,1),e,n,1,0,0,"")||(a.b('title="'),a.b(a.v(a.d("strings.i18n_page_next",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.PageNext",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.PageNextAlt",e,n,0))),a.b(']"\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('aria-label="'),a.b(a.v(a.d("strings.i18n_page_next",e,n,0))),a.b(" ["),a.b(a.v(a.d("keyboard.PageNext",e,n,0))),a.b("] / ["),a.b(a.v(a.d("keyboard.PageNextAlt",e,n,0))),a.b(']"\r'),a.b("\n"+r),a.b("\r"),a.b("\n"+r),a.b('accesskey="'),a.b(a.v(a.d("keyboard.accesskeys.PageNextAlt",e,n,0))),a.b('"\r'),a.b("\n"+r)),a.b("\r"),a.b("\n"+r),a.b(">\r"),a.b("\n"+r),a.b('<!-- img aria-hidden="true" src="images/pagination1.svg" -->\r'),a.b("\n"+r),a.b('<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\r'),a.b("\n"+r),a.b("</button>\r"),a.b("\n"),a.fl()},partials:{},subs:{}},"",e);return n.template=r,n}),define("readium_js_viewer/EpubReaderMediaOverlays",["module","jquery","underscore","bootstrap","readium_js/Readium","./Spinner","Settings","i18nStrings","./Dialogs","./Keyboard"],function(e,n,r,a,i,t,s,o,d,l){var b=function(e){e.reader.on(ReadiumSDK.Events.PAGINATION_CHANGED,function(r){if(e.reader.isMediaOverlayAvailable()&&n("#audioplayer").show(),r.spineItem){var a=e.reader["package"]().media_overlay.getSmilBySpineItem(r.spineItem),i=!1,t=n("#mo-sync-word");a&&a.hasSync("word")?(i=!0,t.removeAttr("disabled")):t.attr("disabled","disabled");var s=n("#mo-sync-sentence");a&&a.hasSync("sentence")?(i=!0,s.removeAttr("disabled")):s.attr("disabled","disabled");var o=n("#mo-sync-paragraph");a&&a.hasSync("paragraph")?(i=!0,o.removeAttr("disabled")):o.attr("disabled","disabled");var d=n("#mo-sync-default");i?d.removeAttr("disabled"):d.attr("disabled","disabled")}});var a=n("#audioplayer");s.get("reader",function(n){if(!n){n={};var r=e.reader.viewerSettings();n.mediaOverlaysSkipSkippables=r.mediaOverlaysSkipSkippables,n.mediaOverlaysAutomaticPageTurn=r.mediaOverlaysAutomaticPageTurn,n.mediaOverlaysEnableClick=r.mediaOverlaysEnableClick,n.mediaOverlaysPreservePlaybackWhenScroll=r.mediaOverlaysPreservePlaybackWhenScroll,s.put("reader",n)}n.mediaOverlaysSkipSkippables?(a.addClass("skip"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysSkipSkippables:!0})):(a.removeClass("skip"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysSkipSkippables:!1})),n.mediaOverlaysPreservePlaybackWhenScroll?(a.addClass("playScroll"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysPreservePlaybackWhenScroll:!0})):(a.removeClass("playScroll"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysPreservePlaybackWhenScroll:!1})),n.mediaOverlaysAutomaticPageTurn?(a.addClass("autoPageTurn"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysAutomaticPageTurn:!0})):(a.removeClass("autoPageTurn"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysAutomaticPageTurn:!1})),n.mediaOverlaysEnableClick?(a.removeClass("no-touch"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysEnableClick:!0})):(a.addClass("no-touch"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysEnableClick:!1}))});var i=n("#mo-sync-default");i.on("click",function(){var n=e.reader.isPlayingMediaOverlay();n&&e.reader.pauseMediaOverlay(),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysSynchronizationGranularity:""}),n&&e.reader.playMediaOverlay()});var t=n("#mo-sync-word");t.on("click",function(){var n=e.reader.isPlayingMediaOverlay();n&&e.reader.pauseMediaOverlay(),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysSynchronizationGranularity:"word"}),n&&e.reader.playMediaOverlay()});var o=n("#mo-sync-sentence");o.on("click",function(){var n=e.reader.isPlayingMediaOverlay();n&&e.reader.pauseMediaOverlay(),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysSynchronizationGranularity:"sentence"}),n&&e.reader.playMediaOverlay()});var d=n("#mo-sync-paragraph");d.on("click",function(){var n=e.reader.isPlayingMediaOverlay();n&&e.reader.pauseMediaOverlay(),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysSynchronizationGranularity:"paragraph"}),n&&e.reader.playMediaOverlay()});var b=n(".btn-mo-highlighter");b.on("click",function(){b.attr("aria-selected","false"),n(this).attr("aria-selected","true");var r=n(this).attr("data-mohighlight");e.reader.setStyles([{selector:".mo-active-default",declarations:void 0}],!0),"1"===r?e.reader.setStyles([{selector:".mo-active-default",declarations:{"background-color":"yellow !important",color:"black !important","border-color":"transparent !important","border-radius":"0.4em !important","box-shadow":"0px 0px 0.4em #333333 !important"}}],!0):"2"===r?e.reader.setStyles([{selector:".mo-active-default",declarations:{"background-color":"black !important",color:"white !important","border-color":"transparent !important","border-radius":"0.4em !important"}}],!0):"3"===r?e.reader.setStyles([{selector:".mo-active-default",declarations:{"background-color":"orange !important",color:"black !important","border-color":"transparent !important","border-radius":"0.4em !important"}}],!0):"4"===r?e.reader.setStyles([{selector:".mo-active-default",declarations:{"background-color":"blue !important",color:"white !important","border-color":"transparent !important","border-radius":"0.4em !important"}}],!0):"5"===r?e.reader.setStyles([{selector:".mo-active-default",declarations:{"background-color":"magenta !important",color:"black !important","border-color":"transparent !important","border-radius":"0.4em !important"}}],!0):"6"===r&&e.reader.setStyles([{selector:".mo-active-default",declarations:{"background-color":"#00FF00 !important",color:"black !important","border-color":"transparent !important","border-radius":"0.4em !important"}}],!0)}),l.on(l.MediaOverlaysEscape,"reader",e.reader.escapeMediaOverlay);var u=n("#btn-esc-audio");u.on("click",e.reader.escapeMediaOverlay);var c=n("#btn-previous-audio"),g=n("#btn-next-audio");l.on(l.MediaOverlaysPlayPause,"reader",e.reader.toggleMediaOverlay);var m=n("#btn-play-audio"),_=n("#btn-pause-audio");m.on("click",function(){var n=document.activeElement===m[0];e.reader.playMediaOverlay(),m.removeAttr("accesskey"),_.attr("accesskey",l.MediaOverlaysPlayPause),n&&setTimeout(function(){_[0].focus()},50)}),_.on("click",function(){var n=document.activeElement===_[0];e.reader.pauseMediaOverlay(),_.removeAttr("accesskey"),m.attr("accesskey",l.MediaOverlaysPlayPause),n&&setTimeout(function(){m[0].focus()},50)});var p=n("#btn-expand-audio"),v=n("#btn-collapse-audio"),h=function(e){e?(a.addClass("expanded-audio"),p.removeAttr("accesskey"),v.attr("accesskey",l.MediaOverlaysAdvancedPanelShowHide)):(a.removeClass("expanded-audio"),v.removeAttr("accesskey"),p.attr("accesskey",l.MediaOverlaysAdvancedPanelShowHide))};l.on(l.MediaOverlaysAdvancedPanelShowHide,"reader",function(){var e=void 0;a.hasClass("expanded-audio")?(h(!1),e=p[0]):(h(!0),e=v[0]),n(document.body).removeClass("hide-ui"),setTimeout(function(){e.focus()},50)}),p.on("click",function(){var e=document.activeElement===p[0];h(!0),e&&setTimeout(function(){v[0].focus()},50)}),v.on("click",function(){var e=document.activeElement===v[0];h(!1),e&&setTimeout(function(){p[0].focus()},50)});var y=n("#time-range-slider"),f=r.debounce(function(){inDebounce=!1;var n=y.val(),r=e.reader["package"]();if(r&&r.media_overlay){var a={par:void 0},i={smilData:void 0},t={milliseconds:void 0};if(r.media_overlay.percentToPosition(n,i,a,t),a.par&&a.par.text&&i.smilData){var s=i.smilData.href,o=t.milliseconds/1e3;e.reader.mediaOverlaysOpenContentUrl(a.par.text.src,s,o)}}},800),k=function(e,n,r){e.attr("aria-valuenow",n+""),e.attr("aria-value-now",n+""),e.attr("aria-valuetext",r+""),e.attr("aria-value-text",r+"")};y.on("change",function(){var n=y.val();n=Math.round(n),y.attr("data-value",n),k(y,n,n+"%"),e.reader.isPlayingMediaOverlay()&&e.reader.pauseMediaOverlay(),f()}),e.reader.on(ReadiumSDK.Events.MEDIA_OVERLAY_STATUS_CHANGED,function(n){var r=0,i="isPlaying"in n?n.isPlaying:!0,t=document.activeElement===m[0]||document.activeElement===_[0];if(i?(m.removeAttr("accesskey"),_.attr("accesskey",l.MediaOverlaysPlayPause)):(_.removeAttr("accesskey"),m.attr("accesskey",l.MediaOverlaysPlayPause)),a.toggleClass("isPlaying",i),t&&setTimeout(function(){(i?_[0]:m[0]).focus()},50),r=-1,"undefined"!=typeof n.playPosition&&"undefined"!=typeof n.smilIndex&&"undefined"!=typeof n.parIndex){var s=e.reader["package"](),o=1e3*n.playPosition;r=s.media_overlay.positionToPercent(n.smilIndex,n.parIndex,o),0>r&&(r=0)}r>=0&&(y.val(r),r=Math.round(r),y.attr("data-value",r),k(y,r,r+"%"))});var w=n("#btn-playback-scroll-disable"),S=n("#btn-playback-scroll-enable");w.on("click",function(){var n=document.activeElement===w[0];a.removeClass("playScroll"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysPreservePlaybackWhenScroll:!1}),s.get("reader",function(e){e||(e={}),e.mediaOverlaysPreservePlaybackWhenScroll=!1,s.put("reader",e)}),n&&setTimeout(function(){S[0].focus()},50)}),S.on("click",function(){var n=document.activeElement===S[0];a.addClass("playScroll"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysPreservePlaybackWhenScroll:!0}),s.get("reader",function(e){e||(e={}),e.mediaOverlaysPreservePlaybackWhenScroll=!0,s.put("reader",e)}),n&&setTimeout(function(){w[0].focus()},50)});var P=n("#btn-auto-page-turn-disable"),x=n("#btn-auto-page-turn-enable");P.on("click",function(){var n=document.activeElement===P[0];a.removeClass("autoPageTurn"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysAutomaticPageTurn:!1}),s.get("reader",function(e){e||(e={}),e.mediaOverlaysAutomaticPageTurn=!1,s.put("reader",e)}),n&&setTimeout(function(){x[0].focus()},50)}),x.on("click",function(){var n=document.activeElement===x[0];a.addClass("autoPageTurn"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysAutomaticPageTurn:!0}),s.get("reader",function(e){e||(e={}),e.mediaOverlaysAutomaticPageTurn=!0,s.put("reader",e)}),n&&setTimeout(function(){P[0].focus()},50)});var E=n("#btn-skip-audio-disable"),R=n("#btn-skip-audio-enable");E.on("click",function(){var n=document.activeElement===E[0];a.removeClass("skip"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysSkipSkippables:!1}),s.get("reader",function(e){e||(e={}),e.mediaOverlaysSkipSkippables=!1,s.put("reader",e)}),n&&setTimeout(function(){R[0].focus()},50)}),R.on("click",function(){var n=document.activeElement===R[0];a.addClass("skip"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysSkipSkippables:!0}),s.get("reader",function(e){e||(e={}),e.mediaOverlaysSkipSkippables=!0,s.put("reader",e)}),n&&setTimeout(function(){E[0].focus()},50)});var T=n("#btn-touch-audio-enable"),O=n("#btn-touch-audio-disable");T.on("click",function(){var n=document.activeElement===T[0];a.removeClass("no-touch"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysEnableClick:!0}),s.get("reader",function(e){e||(e={}),e.mediaOverlaysEnableClick=!0,s.put("reader",e)}),n&&setTimeout(function(){O[0].focus()},50)}),O.on("click",function(){var n=document.activeElement===O[0];a.addClass("no-touch"),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysEnableClick:!1}),s.get("reader",function(e){e||(e={}),e.mediaOverlaysEnableClick=!1,s.put("reader",e)}),n&&setTimeout(function(){T[0].focus()},50)});var A=n("#rate-range-slider"),C=n("#rate-range-slider-label"),M=function(n){var r=parseFloat(A.attr("min")),a=parseFloat(A.attr("max")),i=parseFloat(A.attr("step")),t=parseFloat(A.val());t+=n?-i:i,t>a&&(t=a),r>t&&(t=r);var s=(0===t?"~0":""+t)+"x";k(A,t,s),C[0].textContent=s,e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysRate:t}),A.val(""+t)};n("#buttRatePlus").on("click",function(){M(!1)}),l.on(l.MediaOverlaysRateIncrease,"reader",function(){M(!1)}),n("#buttRateMinus").on("click",function(){M(!0)}),l.on(l.MediaOverlaysRateDecrease,"reader",function(){M(!0)}),A.on("change",function(){var r=n(this).val(),a=("0"===r?"~0":r)+"x";k(n(this),r,a),C[0].textContent=a,e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysRate:r})});var D=function(){A.val(1),k(A,"1","1x"),C[0].textContent="1x",e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysRate:1})};l.on(l.MediaOverlaysRateReset,"reader",D);var U=n("#btn-audio-rate");U.on("click",D);var I=n("#volume-range-slider"),B=function(n){var r=parseInt(I.val());r+=n?-20:20,0>r&&(r=0),r>100&&(r=100),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysVolume:r}),I.val(""+r),k(I,r,r+"%"),0===r?a.addClass("no-volume"):a.removeClass("no-volume")};n("#buttVolumePlus").on("click",function(){B(!1)}),l.on(l.MediaOverlaysVolumeIncrease,"reader",function(){B(!1)}),n("#buttVolumeMinus").on("click",function(){B(!0)}),l.on(l.MediaOverlaysVolumeDecrease,"reader",function(){B(!0)}),I.on("change",function(){var r=n(this).val();e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysVolume:r}),k(I,r,r+"%"),"0"===r?a.addClass("no-volume"):a.removeClass("no-volume")}),$volumeButtonMute=n("#btn-audio-volume-mute"),$volumeButtonUnMute=n("#btn-audio-volume-unmute");var j="0",N=function(){j=I.val(),e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysVolume:0}),I.val(0),k(I,0,"0%"),$volumeButtonMute.removeAttr("accesskey"),$volumeButtonUnMute.attr("accesskey",l.MediaOverlaysVolumeMuteToggle),a.addClass("no-volume")},L=function(){var n="0"===j?"100":j;e.reader.updateSettings({doNotUpdateView:!0,mediaOverlaysVolume:n}),I.val(n),k(I,n,n+"%"),$volumeButtonUnMute.removeAttr("accesskey"),$volumeButtonMute.attr("accesskey",l.MediaOverlaysVolumeMuteToggle),a.removeClass("no-volume")};l.on(l.MediaOverlaysVolumeMuteToggle,"reader",function(){(a.hasClass("no-volume")?L:N)()}),$volumeButtonMute.on("click",function(){var e=document.activeElement===$volumeButtonMute[0];N(),e&&setTimeout(function(){$volumeButtonUnMute[0].focus()},50)}),$volumeButtonUnMute.on("click",function(){var e=document.activeElement===$volumeButtonUnMute[0];L(),e&&setTimeout(function(){$volumeButtonMute[0].focus()},50)}),l.on(l.MediaOverlaysPrevious,"reader",e.reader.previousMediaOverlay),c.on("click",e.reader.previousMediaOverlay),l.on(l.MediaOverlaysNext,"reader",e.reader.nextMediaOverlay),g.on("click",e.reader.nextMediaOverlay)};return{init:b}}),define("readium_js_viewer/EpubReaderBackgroundAudioTrack",["module","jquery","bootstrap","readium_js/Readium","./Spinner","Settings","i18nStrings","./Dialogs","./Keyboard"],function(e,n,r,a,i,t,s,o,d){var l=function(e){if(e.reader.backgroundAudioTrackManager){var r=n("#backgroundAudioTrack-div"),a=n("#backgroundAudioTrack-button-play"),i=n("#backgroundAudioTrack-button-pause");e.reader.backgroundAudioTrackManager.setCallback_PlayPause(function(e){e?(r.addClass("isPlaying"),a.removeAttr("accesskey"),i.attr("accesskey",d.BackgroundAudioPlayPause)):(r.removeClass("isPlaying"),i.removeAttr("accesskey"),a.attr("accesskey",d.BackgroundAudioPlayPause))}),e.reader.backgroundAudioTrackManager.setCallback_IsAvailable(function(e){e?r.removeClass("none"):r.addClass("none")}),d.on(d.BackgroundAudioPlayPause,"reader",function(){var n=!r.hasClass("isPlaying");e.reader.backgroundAudioTrackManager.setPlayState(n),e.reader.backgroundAudioTrackManager.playPause(n)}),a.on("click",function(){var n=document.activeElement===a[0];e.reader.backgroundAudioTrackManager.setPlayState(!0),e.reader.backgroundAudioTrackManager.playPause(!0),n&&setTimeout(function(){i[0].focus()},50)}),i.on("click",function(){var n=document.activeElement===i[0];e.reader.backgroundAudioTrackManager.setPlayState(!1),e.reader.backgroundAudioTrackManager.playPause(!1),n&&setTimeout(function(){a[0].focus()},50)})}};return{init:l}}),define("readium_js_viewer/gestures",["jquery","jquery_hammer","hammerjs"],function(e,n,r){var a=function(e,n){return void(this.initialize=function(){})};return a}),define("readium_js_viewer/EpubReader",["readium_shared_js/globalsSetup","./ModuleConfig","jquery","bootstrap","bootstrapA11y","URIjs","./Spinner","Settings","i18nStrings","./Dialogs","./ReaderSettingsDialog","hgn!readium_js_viewer_html_templates/about-dialog.html","hgn!readium_js_viewer_html_templates/reader-navbar.html","hgn!readium_js_viewer_html_templates/reader-body.html","hgn!readium_js_viewer_html_templates/reader-body-page-btns.html","Analytics","screenfull","./Keyboard","./EpubReaderMediaOverlays","./EpubReaderBackgroundAudioTrack","./gestures","./versioning/ReadiumVersioning","readium_js/Readium"],function(e,n,r,a,i,t,s,o,d,l,b,u,c,g,m,_,p,v,h,y,f,k,w){var S,P,x,E,R,T=(document.documentElement,function(e,n,a){S.openPackageDocument(e,function(e,n){E=e,E.generateTocListDOM(function(e){U(e)}),wasFixed=S.reader.isCurrentViewFixedLayout();var a=n.metadata;r('<h2 class="book-title-header"></h2>').insertAfter(".navbar").text(a.title),r("#left-page-btn").unbind("click"),r("#right-page-btn").unbind("click");var i=r("#readium-page-btns");i.empty();var t="rtl"===E.getPageProgressionDirection();i.append(m({strings:d,dialogs:l,keyboard:v,pageProgressionDirectionIsRTL:t})),r("#left-page-btn").on("click",F),r("#right-page-btn").on("click",V)},a)}),O=function(){s.willSpin||s.isSpinning||(s.willSpin=!0,setTimeout(function(){return s.stopRequested?(s.willSpin=!1,void(s.stopRequested=!1)):(s.isSpinning=!0,s.spin(r("#reading-area")[0]),void(s.willSpin=!1))},100))},A=function(){r(document.body).removeClass("hide-ui");var e,n=r("#app-container"),a=n.hasClass("toc-visible");S.reader.handleViewportResize&&!P&&(e=JSON.parse(S.reader.bookmarkCurrentPage())),a?(n.removeClass("toc-visible"),setTimeout(function(){r("#tocButt")[0].focus()},100)):(n.addClass("toc-visible"),setTimeout(function(){r("#readium-toc-body button.close")[0].focus()},100)),P?L(null,!0):S.reader.handleViewportResize&&(S.reader.handleViewportResize(),setTimeout(function(){S.reader.openSpineItemElementCfi(e.idref,e.contentCFI,S.reader)},90))},C=function(){r(".zoom-wrapper").show()},M=function(){var e=S.reader.getViewScale();r(".zoom-wrapper input").val(Math.round(e)+"%")},D=function(){r(".zoom-wrapper").hide()},U=function(e){if(e){r("script",e).remove();var n,a=r("nav",e);Array.prototype.every.call(a,function(e){return"toc"==e.getAttributeNS("http://www.idpf.org/2007/ops","type")?(n=e,!1):!0});for(var i=!1,o=n;o&&o.getAttributeNS;){var l=o.getAttributeNS("http://www.w3.org/1999/xhtml","dir")||o.getAttribute("dir");if(l&&"rtl"===l){i=!0;break}o=o.parentNode}var b=n&&r(n).html()||r("body",e).html()||r(e).html(),u=E.getToc();if(b&&b.length){var c=r(b);r("iframe",c).remove(),r("#readium-toc-body").append(c),i&&(c[0].setAttributeNS("http://www.w3.org/1999/xhtml","dir","rtl"),c[0].style.direction="rtl")}}else{var u=E.getToc();r("#readium-toc-body").append("?? "+u)}var g=!1,m=void 0;S.reader.on(ReadiumSDK.Events.FXL_VIEW_RESIZED,M),S.reader.on(ReadiumSDK.Events.CONTENT_DOCUMENT_LOADED,function(e){var n=S.reader.isCurrentViewFixedLayout();n?C():D(),e.attr("title","EPUB"),e.attr("aria-label","EPUB"),m=e[0]}),S.reader.on(ReadiumSDK.Events.PAGINATION_CHANGED,function(e){if(z(),$(e),s.isSpinning?(s.stop(),s.isSpinning=!1):s.willSpin&&(s.stopRequested=!0),g){g=!1;try{var n=void 0,a=void 0,i=e.elementId;if(i){n=r("#epub-reader-frame iframe")[0];var t=(n.contentWindow||n.contentDocument).document;a=t.getElementById(i),a||(n=r("#epub-reader-frame iframe")[1],n&&(t=(n.contentWindow||n.contentDocument).document,a=t.getElementById(i),a||(n=void 0)))}else{var o=JSON.parse(S.reader.bookmarkCurrentPage());if(e.spineItem&&(a=S.reader.getElementByCfi(e.spineItem,o.contentCFI,["cfi-marker","mo-cfi-highlight"],[],["MathJax_Message"]),a=a[0])){n=r("#epub-reader-frame iframe")[0];var t=(n.contentWindow||n.contentDocument).document;a.ownerDocument!==t&&(n=r("#epub-reader-frame iframe")[1],n&&(t=(n.contentWindow||n.contentDocument).document,a.ownerDocument!==t&&(n=void 0)))}}if(n||(n=m),n){var d=n;setTimeout(function(){d.focus()},50)}}catch(l){}}}),r("#readium-toc-body").on("click","a",function(){O();var e=r(this).attr("href");return e=u?new t(e).absoluteTo(u).toString():e,g=!0,S.reader.openContentUrl(e),P&&(r(".toc-visible").removeClass("toc-visible"),r(document.body).removeClass("hide-ui")),!1}),r("#readium-toc-body").prepend('<button tabindex="50" type="button" class="close" data-dismiss="modal" aria-label="'+d.i18n_close+" "+d.toc+'" title="'+d.i18n_close+" "+d.toc+'"><span aria-hidden="true">&times;</span></button>'),r("#readium-toc-body button.close").on("click",function(){return A(),!1})},I=function(){p.enabled&&p.toggle()};"undefined"!=typeof chrome&&chrome.app&&chrome.app.window&&chrome.app.window.current&&(p.onchange=function(){chrome.app.window.current().isFullscreen()&&chrome.app.window.current().restore()});var B=p.onchange;p.onchange=function(e){var n;p.isFullscreen?(n=d.exit_fullscreen+" ["+v.FullScreenToggle+"]",r("#buttFullScreenToggle span").removeClass("glyphicon-resize-full"),r("#buttFullScreenToggle span").addClass("glyphicon-resize-small"),r("#buttFullScreenToggle").attr("aria-label",n),r("#buttFullScreenToggle").attr("title",n)):(n=d.enter_fullscreen+" ["+v.FullScreenToggle+"]",r("#buttFullScreenToggle span").removeClass("glyphicon-resize-small"),r("#buttFullScreenToggle span").addClass("glyphicon-resize-full"),r("#buttFullScreenToggle").attr("aria-label",n),r("#buttFullScreenToggle").attr("title",n)),B.call(this,e)};var j,N=function(){if(j=null,P||!r("#app-container").hasClass("toc-visible")){var e=document.getElementById("app-navbar");if(document.activeElement){var n=jQuery.contains(e,document.activeElement);if(n)return}var a=r(e),i=a.find(":hover").length>0;i||r("#audioplayer").hasClass("expanded-audio")||r(document.body).addClass("hide-ui")}},L=function(e,n){j&&(window.clearTimeout(j),j=null),!r("#app-container").hasClass("toc-visible")&&r(document.body).hasClass("hide-ui")&&r(document.body).removeClass("hide-ui"),n?N():j=window.setTimeout(N,4e3)},$=function(e){e.paginationInfo.canGoLeft()?r("#left-page-btn").show():r("#left-page-btn").hide(),e.paginationInfo.canGoRight()?r("#right-page-btn").show():r("#right-page-btn").hide()},z=function(){o.put(x,S.reader.bookmarkCurrentPage(),r.noop)},V=function(){return S.reader.openPageRight(),!1},F=function(){return S.reader.openPageLeft(),!1},K=function(){r(".icon-annotations").on("click",function(){S.reader.plugins.annotations.addSelectionHighlight(Math.floor(1e6*Math.random()),"highlight")});var e=function(){return document.activeElement&&(document.activeElement===document.getElementById("volume-range-slider")||document.activeElement===document.getElementById("time-range-slider")||document.activeElement===document.getElementById("rate-range-slider")||jQuery.contains(document.getElementById("mo-sync-form"),document.activeElement)||jQuery.contains(document.getElementById("mo-highlighters"),document.activeElement))},n=function(){(P||!r("#app-container").hasClass("toc-visible"))&&(r(document.body).addClass("hide-ui"),document.activeElement&&document.activeElement.blur())};r("#buttHideToolBar").on("click",n),v.on(v.ToolbarHide,"reader",n);var a=function(){r("#aboutButt1")[0].focus(),r(document.body).removeClass("hide-ui"),setTimeout(function(){r("#aboutButt1")[0].focus()},50)};r("#buttShowToolBar").on("click",a),v.on(v.ToolbarShow,"reader",a),v.on(v.PagePrevious,"reader",function(){e()||F()}),v.on(v.PagePreviousAlt,"reader",F),v.on(v.PageNextAlt,"reader",V),v.on(v.PageNext,"reader",function(){e()||V()}),v.on(v.FullScreenToggle,"reader",I),r("#buttFullScreenToggle").on("click",I);var i=function(){r("html").attr("data-theme","library"),r(window).trigger("loadlibrary")};v.on(v.SwitchToLibrary,"reader",i),r(".icon-library").on("click",function(){return i(),!1}),r(".zoom-wrapper input").on("click",function(){return this.disabled?void 0:(this.focus(),!1)}),v.on(v.TocShowHideToggle,"reader",function(){var e=r("#app-container").hasClass("toc-visible");e?setTimeout(function(){r("#readium-toc-body button.close")[0].focus()},100):A()}),r(".icon-toc").on("click",A);var t=function(){var e=r(document.body).height()-r("#app-container")[0].offsetTop;r("#app-container").height(e),r("#readium-toc-body").height(e)};v.on(v.ShowSettingsModal,"reader",function(){r("#settings-dialog").modal("show")}),r(window).on("mousemove",L),r(window).on("resize",t),t(),L(),document.addEventListener("click",L,!0)},H=function(){return S.reader.setZoom({style:"fit-screen"}),r(".active-zoom").removeClass("active-zoom"),r("#zoom-fit-screen").addClass("active-zoom"),r(".zoom-wrapper input").prop("disabled",!0),r(".zoom-wrapper>a").dropdown("toggle"),!1},J=function(){return S.reader.setZoom({style:"fit-width"}),r(".active-zoom").removeClass("active-zoom"),r("#zoom-fit-width").addClass("active-zoom"),r(".zoom-wrapper input").prop("disabled",!0),r(".zoom-wrapper>a").dropdown("toggle"),!1},G=function(){return r(".zoom-wrapper input").prop("disabled",!1).focus(),r(".active-zoom").removeClass("active-zoom"),r("#zoom-custom").addClass("active-zoom"),r(".zoom-wrapper>a").dropdown("toggle"),!1},W=/^\s*(\d+)%?\s*$/,q=function(){var e=r(".zoom-wrapper input").val(),n=W.exec(e);if(n){var a=Number(n[1])/100;S.reader.setZoom({style:"user",scale:a})}else M()},Z=function(){r(".modal-backdrop").remove();var e=r("#app-container");e.empty(),e.append(g({strings:d,dialogs:l,keyboard:v})),r("nav").empty(),r("nav").attr("aria-label",d.i18n_toolbar),r("nav").append(c({strings:d,dialogs:l,keyboard:v})),K(),document.title="Readium",r("#zoom-fit-width a").on("click",J),r("#zoom-fit-screen a").on("click",H),r("#zoom-custom a").on("click",G),r(".zoom-wrapper input").on("change",q),O()},X=function(e){v.scope("reader"),x=e.epub,_.trackView("/reader"),P=e.embedded,Z(),S&&S.reader&&S.reader.off(),window.ReadiumSDK&&ReadiumSDK.off(ReadiumSDK.Events.PLUGINS_LOADED),setTimeout(function(){Y()},0)},Y=function(){console.log("MODULE CONFIG:"),console.log(n),o.getMultiple(["reader",x],function(e){var a={el:"#epub-reader-frame",annotationCSSUrl:n.annotationCSSUrl,mathJaxUrl:n.mathJaxUrl},i={jsLibRoot:n.jsLibRoot,openBookOptions:{}};n.useSimpleLoader&&(i.useSimpleLoader=!0);var t;if(e[x]){var s=JSON.parse(JSON.parse(e[x]));t={idref:s.idref,elementCfi:s.contentCFI}}S=new w(i,a),window.READIUM=S,ReadiumSDK.on(ReadiumSDK.Events.PLUGINS_LOADED,function(){console.log("PLUGINS INITIALIZED!"),S.reader.plugins.annotations.initialize({annotationCSSUrl:a.annotationCSSUrl})}),R=new f(S.reader,a.el),R.initialize(),k.getVersioningInfo(function(e){r("#app-container").append(u({imagePathPrefix:n.imagePathPrefix,strings:d,viewer:e.readiumJsViewer,readium:e.readiumJs,sharedJs:e.readiumSharedJs,cfiJs:e.readiumCfiJs})),window.navigator.epubReadingSystem.name="readium-js-viewer",window.navigator.epubReadingSystem.version=e.readiumJsViewer.chromeVersion,window.navigator.epubReadingSystem.readium={},window.navigator.epubReadingSystem.readium.buildInfo={},window.navigator.epubReadingSystem.readium.buildInfo.dateTime=e.dateTimeString,window.navigator.epubReadingSystem.readium.buildInfo.version=e.readiumJsViewer.version,window.navigator.epubReadingSystem.readium.buildInfo.chromeVersion=e.readiumJsViewer.chromeVersion,window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories=[];var a={};a.name="readium-js-viewer",a.sha=e.readiumJsViewer.sha,a.tag=e.readiumJsViewer.tag,a.version=e.readiumJsViewer.version,a.clean=e.readiumJsViewer.clean,a.branch=e.readiumJsViewer.branch,a.release=e.readiumJsViewer.release,a.timestamp=e.readiumJsViewer.timestamp,a.url="https://github.com/readium/"+a.name+"/tree/"+a.sha,window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories.push(a);var i={};i.name="readium-js",i.sha=e.readiumJs.sha,i.tag=e.readiumJs.tag,i.version=e.readiumJs.version,i.clean=e.readiumJs.clean,i.branch=e.readiumJs.branch,i.release=e.readiumJs.release,i.timestamp=e.readiumJs.timestamp,i.url="https://github.com/readium/"+i.name+"/tree/"+i.sha,window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories.push(i);var t={};t.name="readium-shared-js",t.sha=e.readiumSharedJs.sha,t.tag=e.readiumSharedJs.tag,t.version=e.readiumSharedJs.version,t.clean=e.readiumSharedJs.clean,t.branch=e.readiumSharedJs.branch,t.release=e.readiumSharedJs.release,t.timestamp=e.readiumSharedJs.timestamp,t.url="https://github.com/readium/"+t.name+"/tree/"+t.sha,window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories.push(t);
var s={};s.name="readium-cfi-js",s.sha=e.readiumCfiJs.sha,s.tag=e.readiumCfiJs.tag,s.version=e.readiumCfiJs.version,s.clean=e.readiumCfiJs.clean,s.branch=e.readiumCfiJs.branch,s.release=e.readiumCfiJs.release,s.timestamp=e.readiumCfiJs.timestamp,s.url="https://github.com/readium/"+s.name+"/tree/"+s.sha,window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories.push(s)}),r(window).on("keyup",function(e){(9===e.keyCode||9===e.which)&&r(document.body).removeClass("hide-ui")}),S.reader.addIFrameEventListener("mousemove",function(){L()}),S.reader.addIFrameEventListener("keydown",function(e){v.dispatch(document.documentElement,e.originalEvent)}),S.reader.addIFrameEventListener("keyup",function(e){v.dispatch(document.documentElement,e.originalEvent)}),S.reader.addIFrameEventListener("focus",function(){r(window).trigger("focus")}),b.initDialog(S.reader),r("#settings-dialog").on("hidden.bs.modal",function(){v.scope("reader"),r(document.body).removeClass("hide-ui"),setTimeout(function(){r("#settbutt1").focus()},50),r("#buttSave").removeAttr("accesskey"),r("#buttClose").removeAttr("accesskey")}),r("#settings-dialog").on("shown.bs.modal",function(){v.scope("settings"),r("#buttSave").attr("accesskey",v.accesskeys.SettingsModalSave),r("#buttClose").attr("accesskey",v.accesskeys.SettingsModalClose)}),r("#about-dialog").on("hidden.bs.modal",function(){v.scope("reader"),r(document.body).removeClass("hide-ui"),setTimeout(function(){r("#aboutButt1").focus()},50)}),r("#about-dialog").on("shown.bs.modal",function(){v.scope("about")});var l;e.reader&&(l=JSON.parse(e.reader)),P?S.reader.updateSettings({syntheticSpread:"auto",scroll:"auto"}):(l=l||b.defaultSettings,b.updateReader(S.reader,l));var c=function(){P||o.get("reader",function(e){e||(e={});var n="night-theme"===e.theme;e.theme=n?"author-theme":"night-theme",o.put("reader",e),b.updateReader(S.reader,e)})};r("#buttNightTheme").on("click",c),v.on(v.NightTheme,"reader",c),S.reader.on(ReadiumSDK.Events.CONTENT_DOCUMENT_LOAD_START,function(){O()}),h.init(S),y.init(S),T(x,l,t),S.reader.plugins.annotations.on("annotationClicked",function(e,n,r,a){console.debug("ANNOTATION CLICK: "+a),S.reader.plugins.annotations.removeHighlight(a)}),S.reader.plugins.example&&S.reader.plugins.example.on("exampleEvent",function(e){alert(e)})})},Q=function(){S&&S.closePackageDocument(),l.closeModal(),l.reset(),r("#settings-dialog").modal("hide"),r("#about-dialog").modal("hide"),r(".modal-backdrop").remove(),v.off("reader"),v.off("settings"),r("#settings-dialog").off("hidden.bs.modal"),r("#settings-dialog").off("shown.bs.modal"),r("#about-dialog").off("hidden.bs.modal"),r("#about-dialog").off("shown.bs.modal"),S&&S.reader&&S.reader.pauseMediaOverlay(),r(window).off("resize"),r(window).off("mousemove"),r(window).off("keyup"),r(window).off("message"),window.clearTimeout(j),r(document.body).removeClass("embedded"),document.removeEventListener("click",L,!0),r(".book-title-header").remove(),r(document.body).removeClass("hide-ui")},en=function(e){o.get("reader",function(n){v.applySettings(n),X(e)})};return{loadUI:en,unloadUI:Q}}),define("readium_js_viewer/ReadiumViewer",["jquery","./EpubLibrary","./EpubReader","readium_shared_js/helpers"],function(e,n,r,a){var i=function(){var i=a.getURLQueryParams(),t=i.epub;t?r.loadUI(i):n.loadUI(),e(document.body).on("click",function(){e(document.body).removeClass("keyboard")}),e(document).on("keyup",function(){e(document.body).addClass("keyboard")})};e(i);var t=e.noop;window.history&&window.history.pushState&&(e(window).on("popstate",function(){var e=history.state;e&&e.epub?d(e.epub):o()}),t=function(e,n,r){history.pushState(e,n,r)});var s="nav *[title]",o=function(){e(s).tooltip("destroy"),r.unloadUI(),n.loadUI()},d=function(a){e(s).tooltip("destroy"),n.unloadUI(),r.loadUI({epub:a})},l=window.location?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+window.location.pathname:"index.html";e(window).on("readepub",function(e,n){d(n),t({epub:n},"Readium Viewer",l+"?epub="+encodeURIComponent(n))}),e(window).on("loadlibrary",function(){o(),t(null,"Readium Library",l)}),e(document.body).tooltip({selector:s,placement:"auto",container:"body"}).on("show.bs.tooltip",function(n){e(s).not(n.target).tooltip("destroy")})}),define("readium_js_viewer",["readium_js_viewer/ReadiumViewer"],function(e){return e}),define("readium-js-viewer",function(){}),require(["readium_js_viewer/ReadiumViewer"]);
//# sourceMappingURL=readium-js-viewer.js.map